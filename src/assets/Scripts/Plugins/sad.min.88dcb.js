!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SAD={})}(this,(function(e){"use strict";const t={ru:"–£–ø—Å! –í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ —á—É—Ç—å –ø–æ–∑–∂–µ üôè",en:"Oops! No ads available at the moment. Try again later üôè"},n={ru:"–£–ø—Å! –í—ã —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ üôè",en:"Oops! You are trying to watch ads too often. Try it in a few seconds üôè"},r="RewardedVideo",i="FullscreenMedia",a={RewardBlock:"RewardBlock",InterstitialFullscreen:"InterstitialFullscreen"},o=["int-"],s={[a.RewardBlock]:"",[a.InterstitialFullscreen]:"int-"},l={themeParams:{accentTextColor:"#168acd",bgColor:"#ffffff",buttonColor:"#40a7e3",buttonTextColor:"#ffffff",destructiveTextColor:"#d14e4e",headerBgColor:"#ffffff",hintColor:"#999999",linkColor:"#168acd",secondaryBgColor:"#f1f1f1",sectionBgColor:"#ffffff",sectionHeaderTextColor:"#168acd",sectionSeparatorColor:"#e7e7e7",subtitleTextColor:"#999999",textColor:"#000000"},initData:{authDate:new Date(1724378007e3),hash:"e1d28656e2cc7529099f01c0b145b7f5c0006d2d7bb0640ffa5d17c4e3f485fc",user:{allowsWriteToPm:!0,firstName:"Aliaksei",id:111111,languageCode:"en",lastName:"mock",username:"mock"}},initDataRaw:"query_id=AAEMo_0aAAAAAAyj_Ro3BMVq&user=%7B%22id%22%3A111111%2C%22first_name%22%3A%22Aliaksei%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22mock%22%2C%22language_code%22%3A%22en%22%2C%22allows_write_to_pm%22%3Atrue%7D&auth_date=1724378007&hash=e1d28656e2cc7529099f01c0b145b7f5c0006d2d7bb0640ffa5d17c4e3f485fc",version:"7.8",platform:"browser"};class c extends Error{constructor(e,t,n){super(t,{cause:n}),this.type=e,Object.setPrototypeOf(this,c.prototype)}}function d(e,t,n){return new c(e,t,n)}const u="ERR_METHOD_UNSUPPORTED",p="ERR_METHOD_PARAMETER_UNSUPPORTED",_="ERR_UNKNOWN_ENV",h="ERR_TIMED_OUT",m="ERR_UNEXPECTED_TYPE",f="ERR_PARSE";class g{constructor(e,t,n){this.parser=e,this.isOptional=t,this.type=n}parse(e){if(!this.isOptional||void 0!==e)try{return this.parser(e)}catch(t){throw d(f,"Unable to parse value"+(this.type?` as ${this.type}`:""),t)}}optional(){return this.isOptional=!0,this}required(){return this.isOptional=!1,this}}function b(e,t){return()=>new g(e,!1,t)}function v(){return d(m,"Value has unexpected type")}const y=b((e=>{if("number"==typeof e)return e;if("string"==typeof e){const t=Number(e);if(!Number.isNaN(t))return t}throw v()}),"number"),w=b((e=>e instanceof Date?e:new Date(1e3*y().parse(e))),"Date");function k(e,t){const n={};for(const i in e){const a=e[i];if(!a)continue;let o,s;if("function"==typeof a||"parse"in a)o=i,s="function"==typeof a?a:a.parse.bind(a);else{const{type:e}=a;o=a.from||i,s="function"==typeof e?e:e.parse.bind(e)}try{const e=s(t(o));void 0!==e&&(n[i]=e)}catch(r){throw d(f,`Unable to parse field "${i}"`,r)}}return n}function x(e,t){return new g((t=>{if("string"!=typeof t&&!(t instanceof URLSearchParams))throw v();const n="string"==typeof t?new URLSearchParams(t):t;return k(e,(e=>n.get(e)??void 0))}),!1,t)}const E=b((e=>{if("string"==typeof e||"number"==typeof e)return e.toString();throw v()}),"string");function A(e){let t=e;if("string"==typeof t&&(t=JSON.parse(t)),"object"!=typeof t||null===t||Array.isArray(t))throw v();return t}function T(e,t){return new g((t=>{const n=A(t);return k(e,(e=>n[e]))}),!1,t)}const P=T({id:y(),type:E(),title:E(),photoUrl:{type:E().optional(),from:"photo_url"},username:E().optional()},"Chat").optional(),C=b((e=>{if("boolean"==typeof e)return e;const t=String(e);if("1"===t||"true"===t)return!0;if("0"===t||"false"===t)return!1;throw v()}),"boolean"),S={addedToAttachmentMenu:{type:C().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:C().optional(),from:"allows_write_to_pm"},firstName:{type:E(),from:"first_name"},id:y(),isBot:{type:C().optional(),from:"is_bot"},isPremium:{type:C().optional(),from:"is_premium"},languageCode:{type:E().optional(),from:"language_code"},lastName:{type:E().optional(),from:"last_name"},photoUrl:{type:E().optional(),from:"photo_url"},username:E().optional()},N=T(S,"User").optional(),R=T(S,"User").required();function I(){return x({authDate:{type:w(),from:"auth_date"},canSendAfter:{type:y().optional(),from:"can_send_after"},chat:P,chatInstance:{type:E().optional(),from:"chat_instance"},chatType:{type:E().optional(),from:"chat_type"},hash:E(),queryId:{type:E().optional(),from:"query_id"},receiver:N,startParam:{type:E().optional(),from:"start_param"},user:R},"InitData")}function V(e){const t=e.replace(/\s/g,"").toLowerCase();if(function(e){return/^#[\da-f]{6}$/i.test(e)}(t))return t;if(function(e){return/^#[\da-f]{3}$/i.test(e)}(t)){let e="#";for(let n=0;n<3;n+=1)e+=t[1+n].repeat(2);return e}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce(((e,t)=>{const n=Number.parseInt(t,10).toString(16);return e+(1===n.length?"0":"")+n}),"#")}const L=b((e=>V(E().parse(e))),"rgb");const O=b((e=>{const t=L().optional();return Object.entries(A(e)).reduce(((e,[n,r])=>{var i;return e[(i=n,i.replace(/_[a-z]/g,(e=>e[1].toUpperCase())))]=t.parse(r),e}),{})}),"ThemeParams");function F(e){return O().parse(e)}function D(){return function(e){if(!e)throw new Error("No telegram initParams in storage");const{tgWebAppData:t,tgWebAppVersion:n,tgWebAppPlatform:r,tgWebAppThemeParams:i,tgWebAppBotInline:a,tgWebAppShowSettings:o,tgWebAppStartParam:s}=e;return{botInline:Boolean(Number(a)),initData:(l=t,I().parse(l)),initDataRaw:t,showSettings:Boolean(Number(o)),startParam:s,themeParams:F(i),version:n,platform:r};var l}(function(e){const t=sessionStorage.getItem(function(e){return`__telegram__${e}`}(e));try{return t?JSON.parse(t):void 0}catch{}}("initParams"))}function B(e){return x({botInline:{type:C().optional(),from:"tgWebAppBotInline"},initData:{type:I(),from:"tgWebAppData"},initDataRaw:{type:E().optional(),from:"tgWebAppData"},platform:{type:E(),from:"tgWebAppPlatform"},showSettings:{type:C().optional(),from:"tgWebAppShowSettings"},startParam:{type:E().optional(),from:"tgWebAppStartParam"},themeParams:{type:O(),from:"tgWebAppThemeParams"},version:{type:E(),from:"tgWebAppVersion"}}).parse(e)}function U(e){return B(e.replace(/^[^#?]*[#?]/,"").replace(/[#?]/g,"&"))}function M(){return U(window.location.href)}function z(){const e=performance.getEntriesByType("navigation")[0];if(!e)throw new Error("Unable to get first navigation entry.");return U(e.name)}function j(){return B(JSON.parse(sessionStorage.getItem("tma.js/launch-params")??sessionStorage.getItem("tapps/launchParams")??sessionStorage.getItem("telegram-apps/launch-params")??sessionStorage.getItem("adsgram/launch-params")??""))}function W(e){try{return function(){for(const e of[M,z,D,j])try{return e()}catch{}throw new Error("Unable to retrieve launch parameters from any known source.")}()}catch{return e?.(),l}}function $(){return W().initData.user}function H(){return $().languageCode??window.navigator.language}function q(e){const t=H();return t in e?e[t]:e.en}const G={[r]:"104",[i]:"511"},J=r,K={noBannerToShowError:{description:q(t),state:"load",error:!1,done:!1},duplicateShowError:{description:"Attempt to call show when an ad is being shown",state:"playing",error:!0,done:!1},renderError:{description:"Error during render ad",state:"render",error:!0,done:!1},playError:{description:"Error during playing ad",state:"playing",error:!0,done:!1},skip:{description:"The banner was skipped",state:"playing",error:!1,done:!1},reward:{description:"The banner was viewed to the end",state:"destroy",error:!1,done:!0},complete:{description:"The interstitial banner was viewed to the end or closed",state:"destroy",error:!1,done:!0},noBannerDataError:{description:"No banner data to show",state:"load",error:!1,done:!1},nonStopShowError:{description:"The user is trying to watch several ads in a row.",state:"load",error:!0,done:!1},notSuitable:{description:q({ru:"–ê–Ω—Ç–∏—Ñ—Ä–æ–¥: –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –Ω–∞–≥—Ä–∞–¥–∞ –Ω–µ –∑–∞—Å—á–∏—Ç–∞–Ω–∞.",en:"Anti-fraud: suspicious activity, the reward is not counted."}),state:"destroy",error:!1,done:!0}};function Z(e){return{state:"load",description:e,error:!0,done:!1}}const Y="https://api.adsgram.ai/";const X="AdsgramError";function Q(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ee(e,t){return function(e,t){const n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length);for(let a=0;a<i;a+=1){const e=Number.parseInt(n[a]||"0",10),t=Number.parseInt(r[a]||"0",10);if(e!==t)return e>t?1:-1}return 0}(e,t)<=0}function te(e,t,n){if("string"==typeof n){if("web_app_open_link"===e&&"try_instant_view"===t)return ee("6.4",n);if("web_app_set_header_color"===e&&"color"===t)return ee("6.9",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return ee("6.1",t);case"web_app_open_popup":return ee("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return ee("6.4",t);case"web_app_switch_inline_query":return ee("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return ee("6.9",t);case"web_app_setup_settings_button":return ee("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return ee("7.2",t);case"web_app_setup_swipe_behavior":return ee("7.7",t);case"web_app_share_to_story":return ee("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return ee("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":return ee("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}const ne="web.telegram.org",re=e=>e.toLowerCase().startsWith("https://")?new URL(e).hostname:e,ie=(e=!0)=>{const t=window.location.ancestorOrigins;if(t?.length){const n=re(t[t.length-1]);return n===ne&&e?t.length>1?re(t[t.length-2]):window.location.hostname:n}try{const e=window.top.location.hostname;if(e)return e}catch{}return window.location.hostname};function ae(){return function(){try{return window.self!==window.top}catch{return!0}}()&&ie(!1)===ne}let oe=`https://${ne}`;function se(){return oe}function le(e,t,n){let r,i={};void 0===t&&void 0===n?i={}:void 0!==t&&void 0!==n?(i=n,r=t):void 0!==t&&("targetOrigin"in t?i=t:r=t);const{targetOrigin:a=se()}=i;var o;if("external"in(o=window)&&Q(o.external)&&"notify"in o.external&&"function"==typeof o.external.notify)window.external.notify(JSON.stringify({eventType:e,eventData:r}));else if(function(e){return"TelegramWebviewProxy"in e&&Q(e.TelegramWebviewProxy)&&"postEvent"in e.TelegramWebviewProxy&&"function"==typeof e.TelegramWebviewProxy.postEvent}(window))window.TelegramWebviewProxy.postEvent(e,JSON.stringify(r));else{if(!ae())throw d(_,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside of Telegram application environment.");window.parent.postMessage(JSON.stringify({eventType:e,eventData:r}),a)}}function ce(e){return(t,n)=>{if(!te(t,e))throw d(u,`Method "${t}" is unsupported in Mini Apps version ${e}`);if(Q(n)){let r;if("web_app_open_link"===t&&"try_instant_view"in n?r="try_instant_view":"web_app_set_header_color"===t&&"color"in n&&(r="color"),r&&!te(t,r,e))throw d(p,`Parameter "${r}" of "${t}" method is unsupported in Mini Apps version ${e}`)}return le(t,n)}}function de(){return W().version}function ue(e){try{ce(de())("web_app_open_popup",function(e){const t=e.message.trim(),n=(e.title??"").trim(),r=e.buttons||[];if(n.length>64)throw new Error(`Title has incorrect size: ${n.length}`);if(0===t.length||t.length>256)throw new Error(`Message has incorrect size: ${t.length}`);if(r.length>3)throw new Error(`Buttons have incorrect size: ${r.length}`);return{title:n,message:t,buttons:0===r.length?[{type:"close",id:""}]:r.map((e=>{const{id:t=""}=e;if(t.length>64)throw new Error(`Button ID has incorrect size: ${t}`);if(!e.type||"default"===e.type||"destructive"===e.type){const n=e.text.trim();if(0===n.length||n.length>64){const t=e.type??"default";throw new Error(`Button text with type "${t}" has incorrect size: ${e.text.length}`)}return{...e,text:n,id:t}}return{...e,id:t}}))}}(e))}catch{console.log(e.message)}}class pe extends Error{message;constructor({message:e,shouldLog:t=!0}){super(e),this.name=X,this.message=`${X}: ${e}`,t&&this.logError(e)}logError(e){ue({title:"AdsgramError",message:e.length<256?e:e.slice(0,255)}),console.error(this)}}const _e=(e,t)=>{if(!function(e){return"string"==typeof e&&Object.keys(a).includes(e)}(e))throw new pe({message:"Wrong blockType from Backend"});{const n=s[e];if(!t.startsWith(n))throw new pe({message:`BlockId that you pass to init function should starts with ${n}`})}};function he(e){for(const t of o)if(e.startsWith(t))return e.replace(t,"");return e}const me=0;function fe(e,t,n=me){return new Promise(((r,i)=>{const a=function(o){fetch(e,t).then((e=>{r(e)})).catch((e=>{o<n?a(++o):i(e)}))};a(0)}))}const ge=["blockId","campaignId","environment"],be=({app:e,type:t,event:n,data:r})=>{const i={app:e,type:t,event:n};return r&&(i.data=JSON.stringify(((e,t)=>{const n=[],r=[];for(const[a,o]of Object.entries(t)){const t=e.indexOf(a);-1===t?n.push([a,o]):r[t]=[a,o]}const i=[...n,...r.filter(Boolean)];return Object.fromEntries(i)})(ge,r))),new URLSearchParams(i)};class ve{apiUrl;app;data;constructor(e,t){return this.app=e,this.apiUrl=t,this.data={},this}getData(){return this.data}add(e,t){return(e=>{if(null==e||""===e)return!0;if("object"==typeof e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}return!1})(t)||(this.data[e]=t),this}addError(e){return this.data.error=function(e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:String(e)}(e),this}clean(){return this.data={},this}send(e,t="ERROR"){fe(`${this.getSendUrl(e,t)}`,{method:"GET",cache:"no-cache"}).then((()=>!0)).catch((()=>!1))}getLogRequestData(e,t){return{app:this.app,type:t,event:e,data:{...this.data}}}getSendUrl(e,t){return`${this.apiUrl}?${be(this.getLogRequestData(e,t))}`}}function ye(){return W().platform}const we="frontend-error";function ke(){const e=new ve("SAD",`${Y}${we}`),t=function(){try{return{tg_id:String($().id),tg_platform:ye(),platform:window.navigator.platform,userAgent:window.navigator.userAgent,origin:window.location.origin,top_domain:ie(),lib_version:window.Adsgram.init?.version,tma_version:W().version}}catch{return null}}();return t&&e.add("environment",t),e}async function xe(e,n){const r=ke();r.add("blockId",e),n&&r.add("isForceCampaign",!0).add("campaignId",Number(n));try{const i=function(e,t){const n=ke();n.add("blockId",e).add("campaignId",t);try{const{initData:r,platform:i}=W((()=>{n.send("NoUserData","WARN")})),{user:a,chat:o}=r,s=localStorage.getItem("ton-connect-ui_wallet-info")?"1":void 0;return{blockId:he(e),forceCampaignId:t,tg_id:String(a.id),tg_platform:i,platform:window.navigator.platform,language:a?.languageCode??window.navigator.language,is_premium:a?.isPremium,chat_type:r?.chatType,chat_instance:r?.chatInstance,attach_chat_type:o?.type,attach_chat_id:o?.id?String(o?.id):void 0,receiver_id:r?.receiver?.id?String(r?.receiver?.id):void 0,receiver_is_bot:r.receiver?.isBot,top_domain:ie(),connectiontype:s}}catch(r){throw n.addError(r).send("CannotGetRequestData"),new pe({message:"Cannot get request data."})}}(e,n),a=await fe(`${Y}adv?${(e=>{const t={};for(const[n,r]of Object.entries(e))"object"==typeof r&&null!==r?t[n]=JSON.stringify(r):null!=r&&""!==r&&(t[n]=String(r));return new URLSearchParams(t)})(i)}`,{method:"GET",cache:"no-cache",referrerPolicy:"strict-origin-when-cross-origin"},0);if(a.ok){const n=await a.json();return(e=>{if(e instanceof Object&&"bannerType"in e)return!0;throw new pe({message:q(t),shouldLog:!1})})(n),_e(n.blockType,e),n}const o=await a.json();throw function(e,t,n){switch(e){case"Wrong referer":throw n.send("WrongReferer","WARN"),new pe({message:`Platform App url for blockId = ${t} not equal to ${window.location.origin}\nCreate new platform with app url ${window.location.origin} and new blockId for this platform.`});case"Need to use active blockid":throw n.send("BlockNotActive","WARN"),new pe({message:`Block ${t} is not active.\nChange status to active on https://partner.adsgram.ai/units/${t}/\nIf block has moderation status see https://docs.adsgram.ai/publisher/get-block-id#moderation`});case"Not found this id":throw n.send("BlockNotFound","WARN"),new pe({message:`BlockId = ${t} is not found. Make sure that this is your blockId https://partner.adsgram.ai/units/${t}/`});case"Need to specify blockid":throw n.send("NotPassBlock","WARN"),new pe({message:"You don't pass blockId to Init function"})}}(o.error,e,r),r.add("resultError",o.error).send("UnexpectedResultError"),new pe({message:`Unexpected error: ${o.error}`,shouldLog:!1})}catch(i){throw i instanceof pe||r.addError(i).send("APIFetchBannerDataError"),i}}var Ee,Ae,Te,Pe,Ce,Se,Ne,Re,Ie={},Ve=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Oe=Array.isArray;function Fe(e,t){for(var n in t)e[n]=t[n];return e}function De(e){var t=e.parentNode;t&&t.removeChild(e)}function Be(e,t,n){var r,i,a,o={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?Ee.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return Ue(e,o,r,i,null)}function Ue(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++Te:i,__i:-1,__u:0};return null==i&&null!=Ae.vnode&&Ae.vnode(a),a}function Me(e){return e.children}function ze(e,t){this.props=e,this.context=t}function je(e,t){if(null==t)return e.__?je(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?je(e):null}function We(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return We(e)}}function $e(e){(!e.__d&&(e.__d=!0)&&Pe.push(e)&&!He.__r++||Ce!==Ae.debounceRendering)&&((Ce=Ae.debounceRendering)||Se)(He)}function He(){var e,t,n,r,i,a,o,s,l;for(Pe.sort(Ne);e=Pe.shift();)e.__d&&(t=Pe.length,r=void 0,a=(i=(n=e).__v).__e,s=[],l=[],(o=n.__P)&&((r=Fe({},i)).__v=i.__v+1,Ae.vnode&&Ae.vnode(r),et(o,r,i,n.__n,void 0!==o.ownerSVGElement,32&i.__u?[a]:null,s,null==a?je(i):a,!!(32&i.__u),l),r.__.__k[r.__i]=r,tt(s,r,l),r.__e!=a&&We(r)),Pe.length>t&&Pe.sort(Ne));He.__r=0}function qe(e,t,n,r,i,a,o,s,l,c,d){var u,p,_,h,m,f=r&&r.__k||Ve,g=t.length;for(n.__d=l,function(e,t,n){var r,i,a,o,s,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?Ue(null,i,null,null,i):Oe(i)?Ue(Me,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?Ue(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=Ke(i,n,o=r+u,d),i.__i=s,a=null,-1!==s&&(d--,(a=n[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&u--,"function"!=typeof i.type&&(i.__u|=65536)):s!==o&&(s===o+1?u++:s>o?d>l-o?u+=s-o:u--:u=s<o&&s==o-1?s-o:0,s!==r+u&&(i.__u|=65536))):(a=n[r])&&null==a.key&&a.__e&&(a.__e==e.__d&&(e.__d=je(a)),rt(a,a,!1),n[r]=null,d--);if(d)for(r=0;r<c;r++)null!=(a=n[r])&&0==(131072&a.__u)&&(a.__e==e.__d&&(e.__d=je(a)),rt(a,a))}(n,t,f),l=n.__d,u=0;u<g;u++)null!=(_=n.__k[u])&&"boolean"!=typeof _&&"function"!=typeof _&&(p=-1===_.__i?Ie:f[_.__i]||Ie,_.__i=u,et(e,_,p,i,a,o,s,l,c,d),h=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&nt(p.ref,null,_),d.push(_.ref,_.__c||h,_)),null==m&&null!=h&&(m=h),65536&_.__u||p.__k===_.__k?l=Ge(_,l,e):"function"==typeof _.type&&void 0!==_.__d?l=_.__d:h&&(l=h.nextSibling),_.__d=void 0,_.__u&=-196609);n.__d=l,n.__e=m}function Ge(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=Ge(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Je(e,t){return t=t||[],null==e||"boolean"==typeof e||(Oe(e)?e.some((function(e){Je(e,t)})):t.push(e)),t}function Ke(e,t,n,r){var i=e.key,a=e.type,o=n-1,s=n+1,l=t[n];if(null===l||l&&i==l.key&&a===l.type)return n;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return s;s++}}return-1}function Ze(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Le.test(t)?n:n+"px"}function Ye(e,t,n,r,i){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ze(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ze(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,a?Qe:Xe,a)):e.removeEventListener(t,a?Qe:Xe,a);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(o){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function Xe(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Ae.event?Ae.event(e):e)}function Qe(e){return this.l[e.type+!0](Ae.event?Ae.event(e):e)}function et(e,t,n,r,i,a,o,s,l,c){var d,u,p,_,h,m,f,g,b,v,y,w,k,x,E,A=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),a=[s=t.__e=n.__e]),(d=Ae.__b)&&d(t);e:if("function"==typeof A)try{if(g=t.props,b=(d=A.contextType)&&r[d.__c],v=d?b?b.props.value:d.__:r,n.__c?f=(u=t.__c=n.__c).__=u.__E:("prototype"in A&&A.prototype.render?t.__c=u=new A(g,v):(t.__c=u=new ze(g,v),u.constructor=A,u.render=it),b&&b.sub(u),u.props=g,u.state||(u.state={}),u.context=v,u.__n=r,p=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=A.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=Fe({},u.__s)),Fe(u.__s,A.getDerivedStateFromProps(g,u.__s))),_=u.props,h=u.state,u.__v=t,p)null==A.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==A.getDerivedStateFromProps&&g!==_&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,v),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,v)||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=g,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),y=0;y<u._sb.length;y++)u.__h.push(u._sb[y]);u._sb=[],u.__h.length&&o.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,v),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(_,h,m)}))}if(u.context=v,u.props=g,u.__P=e,u.__e=!1,w=Ae.__r,k=0,"prototype"in A&&A.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[]}else do{u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++k<25);u.state=u.__s,null!=u.getChildContext&&(r=Fe(Fe({},r),u.getChildContext())),p||null==u.getSnapshotBeforeUpdate||(m=u.getSnapshotBeforeUpdate(_,h)),qe(e,Oe(E=null!=d&&d.type===Me&&null==d.key?d.props.children:d)?E:[E],t,n,r,i,a,o,s,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),f&&(u.__E=u.__=null)}catch(T){t.__v=null,l||null!=a?(t.__e=s,t.__u|=l?160:32,a[a.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),Ae.__e(T,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,a,o,s,l){var c,d,u,p,_,h,m,f=n.props,g=t.props,b=t.type;if("svg"===b&&(i=!0),null!=a)for(c=0;c<a.length;c++)if((_=a[c])&&"setAttribute"in _==!!b&&(b?_.localName===b:3===_.nodeType)){e=_,a[c]=null;break}if(null==e){if(null===b)return document.createTextNode(g);e=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,g.is&&g),a=null,s=!1}if(null===b)f===g||s&&e.data===g||(e.data=g);else{if(a=a&&Ee.call(e.childNodes),f=n.props||Ie,!s&&null!=a)for(f={},c=0;c<e.attributes.length;c++)f[(_=e.attributes[c]).name]=_.value;for(c in f)_=f[c],"children"==c||("dangerouslySetInnerHTML"==c?u=_:"key"===c||c in g||Ye(e,c,null,_,i));for(c in g)_=g[c],"children"==c?p=_:"dangerouslySetInnerHTML"==c?d=_:"value"==c?h=_:"checked"==c?m=_:"key"===c||s&&"function"!=typeof _||f[c]===_||Ye(e,c,_,f[c],i);if(d)s||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),qe(e,Oe(p)?p:[p],t,n,r,i&&"foreignObject"!==b,a,o,a?a[0]:n.__k&&je(n,0),s,l),null!=a)for(c=a.length;c--;)null!=a[c]&&De(a[c]);s||(c="value",void 0!==h&&(h!==e[c]||"progress"===b&&!h||"option"===b&&h!==f[c])&&Ye(e,c,h,f[c],!1),c="checked",void 0!==m&&m!==e[c]&&Ye(e,c,m,f[c],!1))}return e}(n.__e,t,n,r,i,a,o,l,c);(d=Ae.diffed)&&d(t)}function tt(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)nt(n[r],n[++r],n[++r]);Ae.__c&&Ae.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){Ae.__e(n,t.__v)}}))}function nt(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(r){Ae.__e(r,n)}}function rt(e,t,n){var r,i;if(Ae.unmount&&Ae.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||nt(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Ae.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&rt(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||De(e.__e),e.__=e.__e=e.__d=void 0}function it(e,t,n){return this.constructor(e,n)}function at(e,t,n){var r,i,a,o;Ae.__&&Ae.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],o=[],et(t,e=(!r&&n||t).__k=Be(Me,null,[e]),i||Ie,Ie,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?Ee.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r,o),tt(a,e,o)}function ot(e,t){var n={__c:t="__cC"+Re++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,$e(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}Ee=Ve.slice,Ae={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(s){e=s}throw e}},Te=0,ze.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Fe({},this.state),"function"==typeof e&&(e=e(Fe({},n),this.props)),e&&Fe(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),$e(this))},ze.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),$e(this))},ze.prototype.render=Me,Pe=[],Se="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ne=function(e,t){return e.__v.__b-t.__v.__b},He.__r=0,Re=0;const st=new Set(["RewardedVideo","FullscreenMedia"]);function lt(e,t,n){(n||document.documentElement).style.setProperty(e,t)}const ct=e=>`--adsgram-${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`;const dt={iosLight:{accentTextColor:"#5679E3",bgColor:"#ffffff",buttonColor:"#5679E3",buttonTextColor:"#ffffff",destructiveTextColor:"#FF3B30",headerBgColor:"#F8F8F8",hintColor:"#8E8E93",linkColor:"#5679E3",secondaryBgColor:"#EFEFF4",sectionBgColor:"#ffffff",sectionHeaderTextColor:"#6D6D72",sectionSeparatorColor:"#C8C7CC",subtitleTextColor:"#8E8E93",textColor:"#000000",postOpacityButtonColor:"rgb(84 140 73 / 50%)",postBgColor:"#99ba92",postBgGradient:"radial-gradient(47.89% 72.56% at 0% 100%, #78A389 0%, rgba(120, 163, 137, 0.00) 100%), radial-gradient(57.75% 64.84% at 100% 100%, #DBDDBE 0%, rgba(219, 221, 190, 0.00) 100%), radial-gradient(64.18% 65.96% at 0% 0%, #D6D896 0%, rgba(214, 216, 150, 0.00) 100%)",postBgBlendMode:"normal, normal, lighten",postStrokeFilter:"brightness(0) saturate(100%) invert(67%) sepia(28%) saturate(407%) hue-rotate(66deg) brightness(87%) contrast(88%)",postStrokeOpacity:"1",postMixBlendMode:"normal"},androidLight:{accentTextColor:"#1C93E3",bgColor:"#ffffff",buttonColor:"#50A8EB",buttonTextColor:"#ffffff",destructiveTextColor:"#CC2929",headerBgColor:"#527DA3",hintColor:"#A8A8A8",linkColor:"#2678B6",secondaryBgColor:"#F0F0F0",sectionBgColor:"#ffffff",sectionHeaderTextColor:"#3A95D5",sectionSeparatorColor:"#D9D9D9",subtitleTextColor:"#82868A",textColor:"#222222",postOpacityButtonColor:"rgb(84 140 73 / 50%)",postBgColor:"#99ba92",postBgGradient:"radial-gradient(47.89% 72.56% at 0% 100%, #78A389 0%, rgba(120, 163, 137, 0.00) 100%), radial-gradient(57.75% 64.84% at 100% 100%, #DBDDBE 0%, rgba(219, 221, 190, 0.00) 100%), radial-gradient(64.18% 65.96% at 0% 0%, #D6D896 0%, rgba(214, 216, 150, 0.00) 100%)",postBgBlendMode:"normal, normal, lighten",postStrokeFilter:"brightness(0) saturate(100%) invert(67%) sepia(28%) saturate(407%) hue-rotate(66deg) brightness(87%) contrast(88%)",postStrokeOpacity:"1",postMixBlendMode:"normal"},iosDark:{accentTextColor:"#2EA6FF",bgColor:"#18222D",buttonColor:"#2EA6FF",buttonTextColor:"#ffffff",destructiveTextColor:"#FF6767",headerBgColor:"#21303F",hintColor:"#DBF5FF",linkColor:"#2EA6FF",secondaryBgColor:"#18222D",sectionBgColor:"#21303F",sectionHeaderTextColor:"#83898E",sectionSeparatorColor:"#384656",subtitleTextColor:"#DBF5FF",textColor:"#ffffff",postOpacityButtonColor:"rgb(50 63 76 / 60%)",postBgColor:"#18222D",postBgGradient:"radial-gradient(\n      63.53% 138.09% at 137.08% -38.32%,\n      rgba(10, 16, 28, 0.5) 0%,\n      rgba(10, 16, 28, 0.4) 68.05%,\n      rgba(10, 16, 28, 0) 100%\n    ),\n    radial-gradient(\n      77.93% 126.72% at -30% 128.97%,\n      rgba(10, 16, 28, 0.5) 0%,\n      rgba(10, 16, 28, 0.4) 70.99%,\n      rgba(10, 16, 28, 0) 100%\n    ),\n    radial-gradient(\n      56.56% 63.9% at 100% 116.17%,\n      rgba(39, 70, 98, 0.5) 0%,\n      rgba(39, 70, 98, 0.2) 74.01%,\n      rgba(39, 70, 98, 0) 100%\n    ),\n    radial-gradient(\n      69.64% 77.04% at -7.64% -18.34%,\n      rgba(39, 70, 98, 0.5) 0%,\n      rgba(39, 70, 98, 0.2) 78.32%,\n      rgba(39, 70, 98, 0) 100%\n    )",postBgBlendMode:"normal, normal, color, color",postStrokeFilter:"invert(16%) sepia(14%) saturate(1191%) hue-rotate(172deg) brightness(93%) contrast(96%)",postStrokeOpacity:"0.7",postMixBlendMode:"luminosity"},androidDark:{accentTextColor:"#64b5ef",bgColor:"#212d3b",buttonColor:"#50a8eb",buttonTextColor:"#ffffff",destructiveTextColor:"#ee686f",headerBgColor:"#242d39",hintColor:"#7d8b99",linkColor:"#5eabe1",secondaryBgColor:"#151e27",sectionBgColor:"#1d2733",sectionHeaderTextColor:"#79c4fc",sectionSeparatorColor:"#0d1218",subtitleTextColor:"#7b8790",textColor:"#ffffff",postOpacityButtonColor:"rgb(48 63 78 / 60%)",postBgColor:"#151e27",postBgGradient:"radial-gradient(\n      43.38% 62.54% at -2.92% 105.24%,\n      rgba(68, 134, 196, 0.1) 0%,\n      rgba(68, 134, 196, 0.04) 75.14%,\n      rgba(68, 134, 196, 0) 100%\n    ),\n    radial-gradient(\n      56.6% 63.55% at 100% 125.75%,\n      rgba(8, 11, 17, 0.5) 0%,\n      rgba(8, 11, 17, 0.4) 37.24%,\n      rgba(8, 11, 17, 0) 100%\n    ),\n    radial-gradient(\n      61.52% 69.05% at 84.72% 29.72%,\n      rgba(19, 26, 42, 0.7) 0%,\n      rgba(19, 26, 42, 0.7) 46.18%,\n      rgba(19, 26, 42, 0) 100%\n    ),\n    radial-gradient(\n      80.45% 113.02% at -34.72% -19.61%,\n      rgba(8, 11, 17, 0.5) 37.77%,\n      rgba(8, 11, 17, 0.3) 59.2%,\n      rgba(8, 11, 17, 0.1) 87.13%,\n      rgba(8, 11, 17, 0) 100%\n    )",postBgBlendMode:"normal, normal, color, normal",postStrokeFilter:"invert(16%) sepia(14%) saturate(1191%) hue-rotate(172deg) brightness(93%) contrast(96%)",postStrokeOpacity:"0.7",postMixBlendMode:"luminosity"}};function ut(){const{bgColor:e}=function(){const{themeParams:e}=W();return e}();return!!e&&function(e){const t=V(e);return Math.sqrt([.299,.587,.114].reduce(((e,n,r)=>{const i=Number.parseInt(t.slice(1+2*r,1+2*(r+1)),16);return e+i*i*n}),0))<120}(e)}function pt(e){const t=e??ut(),n=ye(),r="macos"===n||"ios"===n;return t?r?"iosDark":"androidDark":r?"iosLight":"androidLight"}const _t={load:"load",destroy:"destroy",finalDestroy:"finalDestroy",error:"error",renderError:"renderError",pause:"pause",play:"play",leave:"leave",return:"return",sendReward:"sendReward"},ht={onReward:"onReward",onStart:"onStart",onSkip:"onSkip",onBannerNotFound:"onBannerNotFound",onError:"onError",onComplete:"onComplete",onNonStopShow:"onNonStopShow"},mt={onNotSuitable:"onNotSuitable"},ft={..._t,...ht,...mt,replay:"replay"};function gt(...e){let t=!1;const n=[...e];return[e=>!t&&n.push(e),()=>{if(!t){t=!0;for(const e of n)e()}},t]}function bt(e,t){return Promise.race(["function"==typeof e?e():e,new Promise(((e,n)=>{setTimeout((()=>{n(function(e){return d(h,`Timeout reached: ${e}ms`)}(t))}),t)}))])}let vt=class{listeners=new Map;listenersCount=0;subscribeListeners=[];get count(){return this.listenersCount+this.subscribeListeners.length}clear(){this.listeners.clear(),this.subscribeListeners=[]}emit(e,...t){for(const r of this.subscribeListeners)r({event:e,args:t});const n=this.listeners.get(e)||[];for(const[r,i]of n)r(...t),i&&this.off(e,r)}on(e,t,n){let r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),r.push([t,n]),this.listenersCount+=1,()=>this.off(e,t)}off(e,t){const n=this.listeners.get(e)||[];for(let r=0;r<n.length;r+=1)if(t===n[r][0])return n.splice(r,1),void(this.listenersCount-=1)}subscribe(e){return this.subscribeListeners.push(e),()=>this.unsubscribe(e)}unsubscribe(e){for(let t=0;t<this.subscribeListeners.length;t+=1)if(this.subscribeListeners[t]===e)return void this.subscribeListeners.splice(t,1)}};function yt(e,t,n){return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}const wt={popup_closed:{parse:e=>T({button_id:e=>null==e?void 0:E().parse(e)}).parse(e??{})},theme_changed:T({theme_params:e=>{const t=L().optional();return Object.entries(A(e)).reduce(((e,[n,r])=>(e[n]=t.parse(r),e)),{})}}),viewport_changed:T({height:y(),width:e=>null==e?window.innerWidth:y().parse(e),is_state_stable:C(),is_expanded:C()})};function kt(e,t,n){const r=function(e,t){try{const n=wt[e];return n?n.parse(t):t}catch{return t}}(t,n);try{e.emit(...r?[t,r]:[t])}catch{}}function xt(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Et(e,t,n){if(!xt(e))return!1;const r=[...t],i=r.pop();if(void 0===i)return!1;let a=e;return r.forEach((e=>{if(!xt(a))return!1;e in a||(a[e]={}),a=a[e]})),!!xt(a)&&(a[i]=n,!0)}function At(e,t){const n=function(e,t){return t.reduce(((e,t)=>{if(xt(e)&&t in e)return e[t]}),e)}(window,t);return Et(window,t,((...t)=>{try{kt(e,...t)}catch{}"function"==typeof n&&n(...t)})),()=>{Et(window,t,n)}}function Tt(e){const t=[];for(const n of[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]])t.push(At(e,n));return t.push(yt("message",(t=>{if(t.source!==window.parent)return;let n;try{r=t.data,n=T({eventType:E(),eventData:e=>e}).parse(r)}catch{return}var r;try{const{eventType:t,eventData:r}=n;kt(e,t,r)}catch{}}))),()=>{t.forEach((e=>{e()}))}}const[Pt,Ct]=function(e,t){let n;const r=()=>{n&&t&&t(n),n=void 0};return[()=>n??(n=e(r)),r]}((e=>{const[t,n]=function(){const e=new vt,t=new vt;t.subscribe((t=>{e.emit("event",{name:t.event,payload:t.args[0]})}));const n=Tt(t),[,r]=gt(n,yt("resize",(()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})})),(()=>e.clear()),(()=>t.clear()));return[{on:t.on.bind(t),off:t.off.bind(t),subscribe:t=>e.on("event",t),unsubscribe(t){e.off("event",t)},get count(){return t.count+e.count}},r]}(),r=t.off.bind(t);return t.off=(n,i)=>{const{count:a}=t;r(n,i),a&&!t.count&&e()},[t,n]}),(([,e])=>e()));function St(e,t,n){return Pt()[0].on(e,t,n)}const Nt=ce(de());async function Rt(e){let t;const n=new Promise((e=>{t=e})),{event:r,capture:i,timeout:a}=e,[,o]=gt(...(Array.isArray(r)?r:[r]).map((e=>St(e,(e=>(!i||i(e))&&t(e))))));try{return(e.postEvent||Nt)(e.method,e.params),await(a?bt(n,a):n)}finally{o()}}const It={top:0,bottom:0,left:0,right:0};async function Vt(e){return await Rt({...e,method:"web_app_request_content_safe_area",event:"content_safe_area_changed"}).catch((()=>It))}const Lt={top:0,bottom:0,left:0,right:0};async function Ot(e){return await Rt({...e,method:"web_app_request_safe_area",event:"safe_area_changed"}).catch((()=>Lt))}const Ft={contentSafeArea:"--adsgram-content-safe-area",safeArea:"--adsgram-safe-area"};function Dt(e,t,n=document.documentElement){const r=Object.entries(t);for(const[a,o]of r){const t=`${Ft[e]}-${a}`;i=t,(n||document.documentElement).style.removeProperty(i),lt(t,`${o}px`,n)}var i}async function Bt({data:e,EventEmitter:t,container:n}){!function(e,t){const n=Object.entries(t);for(const[r,i]of n)i&&lt(ct(r),i,e)}(n,dt[pt()]),await async function(e=document.documentElement,t){const n=[Vt(t),Ot(t)];await Promise.allSettled(n).then((t=>{const[n,r]=t;"fulfilled"===n.status&&Dt("contentSafeArea",n.value,e),"fulfilled"===r.status&&Dt("safeArea",r.value,e)}))}(n,{timeout:500});const r=function(e){return st.has(e.bannerType)}(e);if(r){const e=document.body.style.overflow;document.body.style.overflow="hidden";try{ce(de())("web_app_expand")}catch{}t.on(_t.finalDestroy,(()=>{document.body.style.overflow=e}),{once:!0})}!function(e){let t=!1;const n=()=>{t=!0},r=()=>{t=!1},i=()=>{"visible"===document.visibilityState&&t&&e.emit("return"),"hidden"!==document.visibilityState||t||e.emit("leave")},a=()=>{t&&e.emit("return")};e.on("leave",n),e.on("return",r),window.addEventListener("visibilitychange",i),window.addEventListener("focus",a),window.addEventListener("click",a),e.on("finalDestroy",(()=>{window.removeEventListener("visibilitychange",i),window.removeEventListener("focus",a),window.removeEventListener("click",a),e.off("leave",n),e.off("return",r)}))}(t)}function Ut(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mt,zt={exports:{}};Mt=zt,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,n(i)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var a in n)e.call(n,a)&&n[a]&&(i=r(i,a));return i}function r(e,t){return t?e?e+" "+t:e+t:e}Mt.exports?(t.default=t,Mt.exports=t):window.classNames=t}();const jt=Ut(zt.exports),Wt=15,$t=30,Ht="_banner_1toey_1",qt="_wrapper_1toey_34",Gt="_desktop_1toey_56",Jt=ot(void 0);var Kt,Zt,Yt,Xt,Qt=0,en=[],tn=[],nn=Ae.__b,rn=Ae.__r,an=Ae.diffed,on=Ae.__c,sn=Ae.unmount;function ln(e,t){Ae.__h&&Ae.__h(Zt,e,Qt||t),Qt=0;var n=Zt.__H||(Zt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:tn}),n.__[e]}function cn(e){return Qt=1,function(e,t,n){var r=ln(Kt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):wn(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Zt,!Zt.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var o=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&r.__c.props===e)&&(!a||a.call(this,e,t,n))};Zt.u=!0;var a=Zt.shouldComponentUpdate,o=Zt.componentWillUpdate;Zt.componentWillUpdate=function(e,t,n){if(this.__e){var r=a;a=void 0,i(e,t,n),a=r}o&&o.call(this,e,t,n)},Zt.shouldComponentUpdate=i}return r.__N||r.__}(wn,e)}function dn(e,t){var n=ln(Kt++,3);!Ae.__s&&yn(n.__H,t)&&(n.__=e,n.i=t,Zt.__H.__h.push(n))}function un(e){return Qt=5,pn((function(){return{current:e}}),[])}function pn(e,t){var n=ln(Kt++,7);return yn(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function _n(e,t){return Qt=8,pn((function(){return e}),t)}function hn(e){var t=Zt.context[e.__c],n=ln(Kt++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Zt)),t.props.value):e.__}function mn(){for(var e;e=en.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(bn),e.__H.__h.forEach(vn),e.__H.__h=[]}catch(t){e.__H.__h=[],Ae.__e(t,e.__v)}}Ae.__b=function(e){Zt=null,nn&&nn(e)},Ae.__r=function(e){rn&&rn(e),Kt=0;var t=(Zt=e.__c).__H;t&&(Yt===Zt?(t.__h=[],Zt.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=tn,e.__N=e.i=void 0}))):(t.__h.forEach(bn),t.__h.forEach(vn),t.__h=[],Kt=0)),Yt=Zt},Ae.diffed=function(e){an&&an(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==en.push(t)&&Xt===Ae.requestAnimationFrame||((Xt=Ae.requestAnimationFrame)||gn)(mn)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==tn&&(e.__=e.__V),e.i=void 0,e.__V=tn}))),Yt=Zt=null},Ae.__c=function(e,t){t.some((function(e){try{e.__h.forEach(bn),e.__h=e.__h.filter((function(e){return!e.__||vn(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Ae.__e(n,e.__v)}})),on&&on(e,t)},Ae.unmount=function(e){sn&&sn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{bn(e)}catch(n){t=n}})),n.__H=void 0,t&&Ae.__e(t,n.__v))};var fn="function"==typeof requestAnimationFrame;function gn(e){var t,n=function(){clearTimeout(r),fn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);fn&&(t=requestAnimationFrame(n))}function bn(e){var t=Zt,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Zt=t}function vn(e){var t=Zt;e.__c=e.__(),Zt=t}function yn(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function wn(e,t){return"function"==typeof t?t(e):t}function kn(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function xn(e){this.props=e}function En(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:kn(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Be(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(xn.prototype=new ze).isPureReactComponent=!0,xn.prototype.shouldComponentUpdate=function(e,t){return kn(this.props,e)||kn(this.state,t)};var An=Ae.__b;Ae.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),An&&An(e)};var Tn=Ae.__e;Ae.__e=function(e,t,n,r){if(e.then)for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);Tn(e,t,n,r)};var Pn=Ae.unmount;function Cn(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=function(e,t){for(var n in t)e[n]=t[n];return e}({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Cn(e,t,n)}))),e}function Sn(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Sn(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Nn(){this.__u=0,this.t=null,this.__b=null}function Rn(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function In(){this.u=null,this.o=null}Ae.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Pn&&Pn(e)},(Nn.prototype=new ze).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=Rn(r.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(s):s())};n.__R=o;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=Sn(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},Nn.prototype.componentWillUnmount=function(){this.t=[]},Nn.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Cn(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Be(Me,null,e.fallback);return i&&(i.__u&=-33),[Be(Me,null,t.__a?null:e.children),i]};var Vn=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(In.prototype=new ze).__a=function(e){var t=this,n=Rn(t.__v),r=t.o.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),Vn(t,e,r)):i()};n?n(a):a()}},In.prototype.render=function(e){this.u=null,this.o=new Map;var t=Je(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},In.prototype.componentDidUpdate=In.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Vn(e,n,t)}))};var Ln="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,On=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Fn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Dn=/[A-Z0-9]/g,Bn="undefined"!=typeof document,Un=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};ze.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(ze.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Mn=Ae.event;function zn(){}function jn(){return this.cancelBubble}function Wn(){return this.defaultPrevented}Ae.event=function(e){return Mn&&(e=Mn(e)),e.persist=zn,e.isPropagationStopped=jn,e.isDefaultPrevented=Wn,e.nativeEvent=e};var $n={enumerable:!1,configurable:!0,get:function(){return this.class}},Hn=Ae.vnode;Ae.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var i in t){var a=t[i];if(!("value"===i&&"defaultValue"in t&&null==a||Bn&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var o=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===a?a="":"ondoubleclick"===o?i="ondblclick":"onchange"!==o||"input"!==n&&"textarea"!==n||Un(t.type)?"onfocus"===o?i="onfocusin":"onblur"===o?i="onfocusout":Fn.test(i)?i=o:-1===n.indexOf("-")&&On.test(i)?i=i.replace(Dn,"-$&").toLowerCase():null===a&&(a=void 0):o=i="oninput","oninput"===o&&r[i=o]&&(i="oninputCapture"),r[i]=a}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=Je(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=Je(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",$n)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=Ln,Hn&&Hn(e)};var qn=Ae.__r;Ae.__r=function(e){qn&&qn(e),e.__c};var Gn=Ae.diffed;function Jn(){return hn(Jt)}Ae.diffed=function(e){Gn&&Gn(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};const Kn={NONSKIP_ALWAYS:!0},Zn=ot(Kn);function Yn(e){const t=hn(Zn);return pn((()=>Boolean(t[e])),[e,t])}function Xn(){const e=Yn("FORCED_SUB_FORMAT");return!(Jn()===a.InterstitialFullscreen)&&e?$t:Wt}class Qn{handlers;constructor(){this.handlers=[]}on(e,t,n){if("function"!=typeof t)throw new pe({message:"The handler argument must be of type Function. Received type "+typeof t});if(!e)throw new pe({message:"The event argument must be of type String. Received type "+typeof e});if(!ft[e])throw new pe({message:`The event argument must be one of ${Object.keys(ft).join(", ")}. Received ${e}`});return this.handlers.push({event:e,handler:t,options:n}),this}off(e,t){return this.handlers=this.handlers.filter((n=>n.event!==e||n.handler!==t)),this}emit(e){let t=!1;const n=new Set;for(const r of this.handlers)r.event===e&&(t=!0,r.handler(),r.options?.once&&n.add(r)),r.options?.unsubscribeEvent===e&&n.add(r);return n.size>0&&(this.handlers=this.handlers.filter((e=>!n.has(e)))),t}removeAllListeners(e){return e?(this.handlers=this.handlers.filter((t=>t.event!==e)),this):(this.handlers=[],this)}hasHandlers(e){return this.handlers.some((({event:t})=>t===e))}}const er=ot(new Proxy(new Qn,{apply(){console.warn("EventEmitter not initialized")},get(){console.warn("EventEmitter not initialized")}}));function tr(){return hn(er)}const nr=ot(ke());function rr(){return hn(nr)}const ir={background:"_background_gvz1l_1","ios-dark":"_ios-dark_gvz1l_10",iosDark:"_ios-dark_gvz1l_10","android-dark":"_android-dark_gvz1l_11",androidDark:"_android-dark_gvz1l_11","ios-light":"_ios-light_gvz1l_29",iosLight:"_ios-light_gvz1l_29","android-light":"_android-light_gvz1l_30",androidLight:"_android-light_gvz1l_30",preview:"_preview_gvz1l_39"};var ar=0;function or(e,t,n,r,i,a){var o,s,l={};for(s in t)"ref"==s?o=t[s]:l[s]=t[s];var c={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ar,__i:-1,__u:0,__source:i,__self:a};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===l[s]&&(l[s]=o[s]);return Ae.vnode&&Ae.vnode(c),c}function sr(){const e=pt();return or("div",{className:jt(ir.background,ir[e],!1)})}const lr={label:"_label_dbgk3_1",text:"_text_dbgk3_19"},cr="https://t.me/+NumBvh9EOiM2MDAy",dr="https://t.me/+3u3wa8LtNjVkY2Zi";function ur(){return"ru"===H()?dr:cr}function pr(e){try{const{hostname:t}=new URL(e);return"t.me"===t}catch{return!1}}function _r({url:e,logger:t}){try{!function(e){if(pr(e)){const{pathname:t,search:n}=new URL(e);ce(de())("web_app_open_tg_link",{path_full:t+n})}else ce(de())("web_app_open_link",{try_instant_view:!1,url:e})}(e)}catch{t.add("url",e).send("OpenUrlError","WARN"),window.open(e,"_blank")}}function hr({}){const e=rr(),t=tr(),n=_n((n=>{n.isTrusted&&(n.stopPropagation(),t.emit(_t.leave),_r({url:ur(),logger:e}))}),[t,e]);return or("div",{className:lr.label,onClick:n,children:or("span",{className:lr.text,children:"@adsgram_ai ‚Äì ads in Telegram"})})}const mr={footer:"_footer_1rexv_1"},fr="_timer_1s77f_1",gr="_time_1s77f_1",br=e=>`${e}`.padStart(2,"0"),vr=e=>{const t=e%60;return`${br((e-t)/60%60)}:${br(t)}`},yr=En((({timer:e})=>{const t=Xn(),[n,r]=cn(t),i=_n(((e,t)=>{r(t)}),[]);return dn((()=>{e.subscribeOnTimeUpdate(i)}),[i,e]),or("div",{className:fr,children:or("span",{className:gr,children:vr(n)})})}));function wr({timer:e}){const t=Yn("NOT_SHOW_ADSGRAM_LABEL");return or("div",{className:mr.footer,children:[or(yr,{timer:e}),!t&&or(hr,{})]})}const kr=({src:e,alt:t,className:n,isCriticalImage:r,...i})=>{const a=rr();a.add("url",e);const o=r?"Critical":"";return or("img",{className:n,src:e,alt:t,onError:_n((()=>{a.send(`${o}ImageLoadError`)}),[o,a]),...i})},xr="_kebab_lsgwj_1",Er="_hidden_lsgwj_7",Ar="_icon_lsgwj_11",Tr="_wrapper_6je2u_1",Pr="_legal-info_6je2u_15",Cr="_item_19dus_1",Sr="_header_19dus_15",Nr="_content_19dus_20";function Rr({header:e,content:t}){return or("div",{className:Cr,children:[or("span",{className:Sr,children:e}),or("span",{className:Nr,children:t})]})}const Ir=({kebab:e,setIsOpen:t,className:n})=>{const{legalName:r,inn:i,erid:a,regNumber:o}=e,s=tr(),l=un(null),c=_n((e=>{e.preventDefault(),e.stopPropagation(),l.current&&!l.current.contains(e.target)&&(t(!1),s.emit("play"),l.current.getRootNode().removeEventListener("click",c,{capture:!0}))}),[s,t]);return dn((()=>{l.current&&l.current.getRootNode().addEventListener("click",c,{capture:!0})}),[c]),or("div",{className:jt(Tr,n),ref:l,children:or("div",{className:Pr,children:[or(Rr,{header:"–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ",content:r}),or(Rr,{header:"–ò–ù–ù",content:i}),or(Rr,{header:"–û–ì–†–ù",content:o}),or(Rr,{header:"ERID",content:a})]})})};function Vr(e){return"string"==typeof e&&""!==e}function Lr(e){const{legalName:t,erid:n,regNumber:r,inn:i}=e;return Vr(t)&&Vr(i)&&Vr(n)&&Vr(r)}const Or=En((({kebab:e,classNameKebab:t,classNameKebabContent:n})=>{const r=tr(),[i,a]=cn(!1),o=_n((()=>{i||(a(!0),r.emit("pause"))}),[r,i]);return Lr(e)?or("div",{className:jt(xr,t),onClick:o,children:[or("img",{className:Ar,src:"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.522%208c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202Zm0%202c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2Zm0%206c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2Z'%20fill='%23fff'/%3e%3c/svg%3e",alt:"more info"}),i&&or(Ir,{className:n,kebab:e,setIsOpen:a})]}):or("div",{className:jt(xr,t,Er)})})),Fr={post:"_post_18txr_1",show:"_show_18txr_1",channel:"_channel_18txr_21",icon:"_icon_18txr_29",tail:"_tail_18txr_37","android-dark":"_android-dark_18txr_46",androidDark:"_android-dark_18txr_46",message:"_message_18txr_55",image:"_image_18txr_69",text:"_text_18txr_77",title:"_title_18txr_87",description:"_description_18txr_95",footer:"_footer_18txr_102",name:"_name_18txr_107",clickable:"_clickable_18txr_126",adlabel:"_adlabel_18txr_131",kebab:"_kebab_18txr_141","kebab-content":"_kebab-content_18txr_153",kebabContent:"_kebab-content_18txr_153"},Dr="_close_7xq49_1",Br="_image_7xq49_18",Ur="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.295%207.115a.997.997%200%201%200-1.41-1.41L12%2010.59%207.115%205.705a.997.997%200%200%200-1.41%201.41L10.59%2012l-4.885%204.885a.997.997%200%200%200%201.41%201.41L12%2013.41l4.885%204.885a.997.997%200%201%200%201.41-1.41L13.41%2012l4.885-4.885Z'%20fill='%23fff'/%3e%3c/svg%3e",Mr=2;async function zr(e,t,n=Mr){if("string"!=typeof e||""===e)return t.add("trackingUrl",JSON.stringify(e)).send("WrongTrackingUrl"),!1;try{const t=await fe(e,{method:"GET",cache:"no-cache"},n),r=await t.json();return t.ok&&!r.error}catch(r){return t.addError(r).add("trackingUrl",e).send("APITrackingError"),!1}}const jr=ot(void 0);function Wr(e){const t=hn(jr);return pn((()=>t?.[e]??""),[e,t])}function $r(){return void 0!==window.ontouchstart||"ontouchstart"in document.documentElement}function Hr({isCloseVisible:e}){const t=tr(),n=rr(),r=$r(),i=Jn()===a.InterstitialFullscreen,o=Wr("skip"),s=_n((r=>{e&&(r.isTrusted?(r.preventDefault(),r.stopPropagation(),zr(o,n),t.emit(ht.onComplete)):t.emit(ht.onError))}),[t,e,n,o]);return e&&i?or("button",{onClick:r?void 0:s,onTouchStart:r?s:void 0,className:Dr,children:or("img",{className:Br,src:Ur,alt:"Close ad button"})}):null}const qr="Ad ¬∑ 18+",Gr="–†–µ–∫–ª–∞–º–∞ ¬∑ 18+",Jr=En((({image:e,title:t,description:n,advertiserName:r,icon:i,onClick:a,isClickable:o,kebab:s,isCloseVisible:l})=>{const c=$r(),d=Yn("RU_GEO_SHOW")?Gr:qr,u=pt();return or("div",{className:Fr.post,children:[or(Hr,{isCloseVisible:l}),or("div",{className:Fr.channel,children:or(kr,{src:i,alt:"channel",className:Fr.icon})}),or("div",{className:jt(Fr.tail,Fr[u]),children:or("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 10",children:or("path",{d:"M0 9c4.5-.5 6-5.5 6-9v10H0V9Z"})})}),or("div",{className:jt(Fr.message,Fr[u]),children:[or(Or,{kebab:s,classNameKebab:Fr.kebab,classNameKebabContent:Fr.kebabContent}),or(kr,{src:e,alt:"Post main",className:Fr.image,isCriticalImage:!0}),or("div",{className:Fr.text,children:[or("h2",{className:Fr.title,children:t}),or("span",{className:Fr.description,children:n}),or("div",{className:Fr.footer,children:[or("button",{className:jt(Fr.name,o&&Fr.clickable),onClick:c?void 0:a,onTouchStart:c?a:void 0,disabled:!o,children:r}),or("span",{className:Fr.adlabel,children:d})]})]})]})]})})),Kr={button:"_button_1ykdg_1",show:"_show_1ykdg_1","ios-light":"_ios-light_1ykdg_50",iosLight:"_ios-light_1ykdg_50","ios-dark":"_ios-dark_1ykdg_55",iosDark:"_ios-dark_1ykdg_55",icon:"_icon_1ykdg_66"},Zr="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.117%203.294V4.94h3.706l-5.147%205.147%201.236%201.235%205.147-5.147v3.706h1.647V3.294H4.117z'%20fill='%23fff'/%3e%3c/svg%3e",Yr="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='3.5'%20y='3.5'%20width='7'%20height='7'%20rx='.5'%20stroke='%23fff'/%3e%3cpath%20fill='%23000'%20stroke='%23fff'%20stroke-width='.5'%20d='M4.25%204.25h5.5v.5h-5.5z'/%3e%3c/svg%3e";function Xr(e){if(pr(e)){const{pathname:t}=new URL(e);return/bot\/./i.test(t)}return!1}function Qr({buttonName:e,onClick:t,url:n}){const r=$r(),i=Xr(n)?Yr:Zr,a=pt();return or("button",{className:jt(Kr.button,Kr[a]),onClick:r?void 0:t,onTouchStart:r?t:void 0,children:[e,or("img",{src:i,alt:"link-icon",className:Kr.icon})]})}const ei={en:"Click to get the reward!",ru:"–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É!",uk:"–ù–∞—Ç–∏—Å–Ω–∏, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥—É!",uz:"Mukofotni olish uchun bosing!",fa:"⁄©ŸÑ€å⁄© ⁄©ŸÜ€åÿØ ÿ™ÿß ÿ¨ÿß€åÿ≤Ÿá ÿ®⁄Ø€åÿ±€åÿØ!",ar:"ÿßÿ∂ÿ∫ÿ∑ ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÖŸÉÿßŸÅÿ£ÿ©!",id:"Klik untuk mendapatkan hadiah!",vi:"Nh·∫•p ƒë·ªÉ nh·∫≠n ph·∫ßn th∆∞·ªüng!",hi:"‡§á‡§®‡§æ‡§Æ ‡§™‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç!","pt-br":"Clique para obter a recompensa!",tr:"√ñd√ºl√º almak i√ßin tƒ±kla!",es:"¬°Haz clic para obtener la recompensa!",fr:"Cliquez pour obtenir la r√©compense!",ko:"Î≥¥ÏÉÅÏùÑ Î∞õÏúºÎ†§Î©¥ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî!","zh-hans":"ÁÇπÂáªËé∑ÂèñÂ•ñÂä±!",ja:"Â†±ÈÖ¨„ÇíÂæó„Çã„Åü„ÇÅ„Å´„ÇØ„É™„ÉÉ„ÇØÔºÅ",de:"Klicke, um die Belohnung zu erhalten!",pl:"Kliknij, aby odebraƒá nagrodƒô!"},ti={tooltip:"_tooltip_bpzve_1",show:"_show_bpzve_1",title:"_title_bpzve_45"};function ni(){return or("div",{className:ti.tooltip,children:or("h3",{className:ti.title,children:q(ei)})})}function ri(e){const t=window.getComputedStyle(e);if("0px"==t.height||"none"==t.display||"0"==t.opacity||"hidden"==t.visibility||"circle(0px at 50% 50%)"==t.clipPath||"scale(0)"==t.transform||e.hasAttribute("hidden")||"hidden"===document.visibilityState)return!1;const n=e.getBoundingClientRect(),r=n.left,i=n.top,a=document.elementFromPoint(r,i);if(null!=a&&!e.isSameNode(a)){const n=t.zIndex,r=window.getComputedStyle(a).zIndex;if(Number(n)<Number(r))return!1;if(""===n&&""===r&&e.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING)return!1}return(n.bottom-n.top)*(n.right-n.left)>=.5*((window.innerHeight||document.documentElement.clientHeight)*(window.innerWidth||document.documentElement.clientWidth))}function ii(e){const t=un(null),[n,r]=cn(!1);return dn((()=>{t.current=new IntersectionObserver((([e])=>{e.isIntersecting&&ri(e.target)?r(!0):r(!1)}),{root:null,rootMargin:"0px",threshold:.5})}),[]),dn((()=>(e.current&&t.current&&t.current.observe(e.current),()=>{t.current&&(r(!1),t.current.disconnect())})),[e]),n}const ai=ot("");function oi(){return hn(ai)}const si=new Set(["21","4855","4882","4995","4853"]);function li(){const e=rr(),t=Wr("reward"),n=tr(),r=oi();dn((()=>{const i=si.has(r)?async()=>{await zr(t,e)?n.emit(ht.onReward):n.emit(mt.onNotSuitable)}:()=>{zr(t,e),n.emit(ht.onReward)};return n.on(_t.sendReward,i),()=>{n.off(_t.sendReward,i)}}),[n,t,e,r])}class ci{static checkInterval=100;startTime;endTime;time;stopped;finished;stopTime;fromStopToResumeTime;onSpecificTimeCallback;onTimeUpdateCallback;onTickUpdateCallback;onEndCallback;constructor({callbacks:e,endTime:t}){this.startTime=performance.now(),this.endTime=t,this.time=0,this.stopped=!1,this.finished=!1,this.stopTime=0,this.fromStopToResumeTime=0,this.onSpecificTimeCallback={};for(const n in e)Number.isNaN(Number(n))||(this.onSpecificTimeCallback[n]=e[n]);this.onTimeUpdateCallback=e.onTimeUpdate,this.onTickUpdateCallback=e.onTick,this.onEndCallback=e.endCallback,this.tick()}get isFinished(){return this.finished}get isStopped(){return this.stopped}get elapsedTime(){return this.endTime-this.time}stop(){return this.stopped||(this.stopTime=performance.now(),this.stopped=!0),this.time}resume(){if(this.stopped){const e=performance.now()-this.stopTime;this.fromStopToResumeTime+=e,this.stopped=!1,this.tick()}}restart(){this.time=0,this.fromStopToResumeTime=performance.now()-this.startTime,this.stopped=!1,this.finished=!1,this.tick()}subscribeOnSpecificTimeUpdate(e,t){this.onSpecificTimeCallback[e]=t}subscribeOnTimeUpdate(e){this.onTimeUpdateCallback=e}subscribeOnTickUpdate(e){this.onTickUpdateCallback=e}subscribeOnEnd(e){this.onEndCallback=e}unsubscribeAll(){this.onEndCallback=void 0,this.onTimeUpdateCallback=void 0,this.onSpecificTimeCallback={},this.onTickUpdateCallback=void 0}destroy(){this.finished=!0,this.unsubscribeAll()}tick(){if(this.stopped||this.finished)return;if(performance.now()-this.fromStopToResumeTime-this.startTime>1e3*(this.time+1)){++this.time,this.onTimeUpdateCallback?.(this.time,this.elapsedTime);const e=this.onSpecificTimeCallback[this.time];e?.(this.time,this.elapsedTime)}this.time<this.endTime?setTimeout(this.tick.bind(this),ci.checkInterval):(this.onEndCallback?.(this.time,this.elapsedTime),this.finished=!0),this.onTickUpdateCallback?.(this.time,this.elapsedTime)}}const di="_banner_dls25_1",ui={button:"_button_1fq63_1",show:"_show_1fq63_1",visible:"_visible_1fq63_36",hidden:"_hidden_1fq63_41"},pi=15e3,_i=5e3,hi=ot(null);function mi(){return hn(hi)}function fi(e){return`${e}-action-button`}function gi({text:e,isVisible:t,clickUrl:n}){const r=oi(),i=mi(),o=tr(),s=rr(),l=Jn()===a.InterstitialFullscreen,c=un(1/0),d=_n((e=>{e.isTrusted&&(Xr(n)?i&&(i.muted=!0):(i?.pause(),c.current=Date.now()),o.emit("leave"),_r({url:n,logger:s}))}),[o,n,s,i]),u=_n((()=>{Date.now()-c.current>pi&&o.emit(l?ht.onComplete:_t.sendReward),c.current=1/0}),[o,l]);return dn((()=>{o.on("return",u)}),[o,u]),or("button",{id:fi(r),className:`${ui.button} ${t?ui.visible:ui.hidden}`,onClick:d,children:e})}const bi={footer:"_footer_15eel_1"},vi={point:"_point_m3ogu_1"};function yi({packshotDuration:e}){const t=un(null),n=mi(),r=Jn()===a.InterstitialFullscreen,i=_n((()=>{if(t.current&&n){const r=n.adDuration+(e??0),i=_i/r*100;t.current.style.left=`calc(${i}% - 3px)`,t.current.style.opacity="1"}}),[e,n]);return dn((()=>{n&&r&&n.on("adstarted",i)}),[r,i,n]),r?or("div",{className:vi.point,ref:t}):null}const wi={timeline:"_timeline_1iayw_1",bar:"_bar_1iayw_11",progress:"_progress_1iayw_18"};function ki({packshotDuration:e}){const t=un(null),n=mi(),r=_n((()=>{t.current&&n&&function({player:e,progress:t,packshotDuration:n}){const r=e.adDuration+(n??0);let i,a,o=!1,s=!1;e.on("adcomplete",(()=>{s=!0})),e.on("addestroyed",(()=>{o=!0}));const l=c=>{if(s&&n){void 0===i&&(i=c);const s=c-i;if(s>=n&&(o=!0),a!==c){const n=(e.adDuration+s)/r*100;t.style.width=`${n}%`}a=c}if(!s){const n=e.adCurrentTime/r*100;Number(t.style.width.replace("%",""))<n&&(t.style.width=`${n}%`)}o||requestAnimationFrame(l)};requestAnimationFrame(l)}({player:n,progress:t.current,packshotDuration:e})}),[e,n]);return dn((()=>{n&&n.on("adstarted",r)}),[r,n]),or("div",{className:wi.timeline,children:or("div",{className:wi.bar,children:[or(yi,{packshotDuration:e}),or("div",{className:wi.progress,ref:t})]})})}function xi({packshotDuration:e}){return or("div",{className:bi.footer,children:or(ki,{packshotDuration:e})})}const Ei={wrapper:"_wrapper_14j31_1",adlabeltext:"_adlabeltext_14j31_15",adlabel:"_adlabel_14j31_15",tgchannel:"_tgchannel_14j31_29"};function Ai(){const e=rr(),t=tr(),n=Yn("NOT_SHOW_ADSGRAM_LABEL"),r=Yn("RU_GEO_SHOW")?Gr:qr,i=_n((n=>{n.stopPropagation(),n.preventDefault(),t.emit(_t.leave),_r({url:ur(),logger:e})}),[t,e]);return n?or("p",{className:Ei.adlabel,children:r}):or("div",{className:Ei.wrapper,onClick:i,children:[or("p",{className:Ei.tgchannel,children:"@adsgram_ai ‚Äì ads in Telegram"}),or("p",{className:Ei.adlabeltext,children:r})]})}const Ti={close:"_close_3nvo5_1",clickable:"_clickable_3nvo5_9",image:"_image_3nvo5_13"};function Pi(){const e=mi(),t=tr(),n=rr(),r=Wr("skip"),[i,o]=cn(!1),s=Jn()===a.InterstitialFullscreen,l=_n((e=>{i&&(e.isTrusted?(e.preventDefault(),e.stopPropagation(),zr(r,n),t.emit(ht.onComplete)):t.emit(ht.onError))}),[t,i,n,r]);return dn((()=>{e&&s&&e.on("enableCloseButton",(()=>{o(!0)}))}),[s,e]),or("div",{onClick:l,className:jt(Ti.close,i&&Ti.clickable),children:or("img",{className:Ti.image,src:Ur,alt:"Close ad button"})})}const Ci={header:"_header_1ke3p_1",container:"_container_1ke3p_14","expanded-header":"_expanded-header_1ke3p_19",expandedHeader:"_expanded-header_1ke3p_19","label-container":"_label-container_1ke3p_23",labelContainer:"_label-container_1ke3p_23",preview:"_preview_1ke3p_33",kebab:"_kebab_1ke3p_37","kebab-content":"_kebab-content_1ke3p_45",kebabContent:"_kebab-content_1ke3p_45"},Si={volume:"_volume_10n0w_1"},Ni="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13%205.345c0-1.576-1.92-2.349-3.011-1.213L6.654%207.6H5a3%203%200%200%200-3%203v2.8a3%203%200%200%200%203%203h1.23l3.798%203.703c1.109%201.08%202.972.295%202.972-1.253V5.345ZM5%2014.4h2.044L11%2018.257V5.966L7.505%209.6H5a1%201%200%200%200-1%201v2.8a1%201%200%200%200%201%201Z'%20fill='%23fff'/%3e%3cpath%20d='M16.707%208.793a1%201%200%201%200-1.414%201.414L17.086%2012l-1.793%201.793a1%201%200%200%200%201.414%201.414l1.793-1.793%201.793%201.793a1%201%200%200%200%201.414-1.414L19.914%2012l1.793-1.793a1%201%200%200%200-1.414-1.414L18.5%2010.586l-1.793-1.793Z'%20fill='%23fff'/%3e%3c/svg%3e",Ri="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.807%203.39a1%201%200%200%201%201.324-.497%2010%2010%200%200%201%20.253%2018.095%201%201%200%201%201-.877-1.797%208%208%200%200%200-.202-14.476%201%201%200%200%201-.498-1.324Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.989%204.132C11.08%202.996%2013%203.769%2013%205.345V18.85c0%201.548-1.863%202.334-2.972%201.253L6.231%2016.4H5a3%203%200%200%201-3-3v-2.8a3%203%200%200%201%203-3h1.654l3.335-3.468ZM7.044%2014.4H5a1%201%200%200%201-1-1v-2.8a1%201%200%200%201%201-1h2.505L11%205.966v12.29L7.044%2014.4Z'%20fill='%23fff'/%3e%3cpath%20d='M16.479%206.536a1%201%200%200%200-.827%201.821%204%204%200%200%201%20.102%207.238%201%201%200%200%200%20.876%201.798%206%206%200%200%200-.151-10.857Z'%20fill='%23fff'/%3e%3c/svg%3e";function Ii(){const e=mi(),[t,n]=cn(!1);dn((()=>{e&&n(e.muted)}),[e]);return or("div",{onClick:_n((()=>{e.muted=!t,n((e=>!e))}),[t,e]),className:Si.volume,children:or("img",t?{src:Ni,alt:"unmute"}:{src:Ri,alt:"mute"})})}function Vi({kebab:e}){const t=Jn()===a.InterstitialFullscreen,n=Lr(e);return or("div",{className:jt(Ci.header,!1,{[Ci.expandedHeader]:t&&n}),children:[or("div",{className:Ci.container,children:or(Ii,{})}),or("div",{className:Ci.labelContainer,children:or(Ai,{})}),or("div",{className:Ci.container,children:[n&&or(Or,{kebab:e,classNameKebab:Ci.kebab,classNameKebabContent:Ci.kebabContent}),t&&or(Pi,{})]})]})}const Li={packshot:"_packshot_1eu44_1",creatives:"_creatives_1eu44_23",image:"_image_1eu44_35",title:"_title_1eu44_44",description:"_description_1eu44_54",play:"_play_1eu44_63",pause:"_pause_1eu44_68"};function Oi({image:e,title:t,description:n,isVisible:r}){return or("div",{className:`${Li.packshot} ${r?Li.play:Li.pause}`,children:or("div",{className:`${Li.creatives} ${r?Li.play:Li.pause}`,children:[or(kr,{className:Li.image,src:e,alt:"app icon"}),or("span",{className:Li.title,children:t}),or("span",{className:Li.description,children:n})]})})}const Fi={childByName:function(e,t){const n=e.childNodes;for(const r in n){const e=n[r];if(e.nodeName===t)return e}},childrenByName:function(e,t){const n=[],r=e.childNodes;for(const i in r){const e=r[i];e.nodeName===t&&n.push(e)}return n},parseBoolean:function(e){return-1!==["true","TRUE","True","1"].indexOf(e)},parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,n){const r=t.getAttribute(e);r&&n.setAttribute(e,r)},parseAttributes:function(e){const t=e.attributes,n={};for(let r=0;r<t.length;r++)n[t[r].nodeName]=t[r].nodeValue;return n},parseDuration:function(e){if(null==e)return-1;const t=e.split(":");if(3!==t.length)return-1;const n=t[2].split(".");let r=parseInt(n[0]);2===n.length&&(r+=parseFloat(`0.${n[1]}`));const i=parseInt(60*t[1]),a=parseInt(60*t[0]*60);return isNaN(a)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:a+i+r}};function Di(e,t){let n;const r=function(e={}){const{id:t,adId:n,apiFramework:r}=function(e={}){return{id:e.id||null,adId:e.adId||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}(e);return{id:t,adId:n,apiFramework:r,type:"linear",duration:0,skipDelay:null,mediaFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],trackingEvents:{}}}(t);r.duration=Fi.parseDuration(Fi.parseNodeText(Fi.childByName(e,"Duration")));const i=e.getAttribute("skipoffset");if(null==i)r.skipDelay=null;else if("%"===i.charAt(i.length-1)&&-1!==r.duration){const e=parseInt(i,10);r.skipDelay=r.duration*(e/100)}else r.skipDelay=Fi.parseDuration(i);const a=Fi.childByName(e,"VideoClicks");if(a){const e=Fi.childByName(a,"ClickThrough");r.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:Fi.parseNodeText(e)}:null,Fi.childrenByName(a,"ClickTracking").forEach((e=>{r.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Fi.parseNodeText(e)})}))}return Fi.childrenByName(e,"TrackingEvents").forEach((e=>{Fi.childrenByName(e,"Tracking").forEach((e=>{let t=e.getAttribute("event");const i=Fi.parseNodeText(e);if(t&&i){if("progress"===t){if(n=e.getAttribute("offset"),!n)return;t="%"===n.charAt(n.length-1)?`progress-${n}`:`progress-${Math.round(Fi.parseDuration(n))}`}Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i)}}))})),Fi.childrenByName(e,"MediaFiles").forEach((e=>{Fi.childrenByName(e,"MediaFile").forEach((e=>{r.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=Fi.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);const n=e.getAttribute("scalable");n&&"string"==typeof n&&(t.scalable=Fi.parseBoolean(n));const r=e.getAttribute("maintainAspectRatio");r&&"string"==typeof r&&(t.maintainAspectRatio=Fi.parseBoolean(r));return t}(e))}))})),r}function Bi(e){const t=[];return e.forEach((e=>{const n=Ui(e);n&&t.push(n)})),t}function Ui(e){if("#comment"===e.nodeName)return null;const t={name:null,value:null,attributes:{},children:[]},n=e.attributes,r=e.childNodes;if(t.name=e.nodeName,e.attributes)for(const a in n)if(n.hasOwnProperty(a)){const e=n[a];e.nodeName&&e.nodeValue&&(t.attributes[e.nodeName]=e.nodeValue)}for(const a in r)if(r.hasOwnProperty(a)){const e=Ui(r[a]);e&&t.children.push(e)}if(0===t.children.length||1===t.children.length&&["#cdata-section","#text"].indexOf(t.children[0].name)>=0){const n=Fi.parseNodeText(e);""!==n&&(t.value=n),t.children=[]}return null===(i=t).value&&0===Object.keys(i.attributes).length&&0===i.children.length?null:t;var i}function Mi(e){const t=[];return e.forEach((e=>{const n={id:e.getAttribute("id")||null,adId:zi(e),apiFramework:e.getAttribute("apiFramework")||null},r=[];let i;Fi.childrenByName(e,"UniversalAdId").forEach((e=>{const t={idRegistry:e.getAttribute("idRegistry")||"unknown",value:Fi.parseNodeText(e)};r.push(t)}));const a=Fi.childByName(e,"CreativeExtensions");a&&(i=Bi(Fi.childrenByName(a,"CreativeExtension")));for(const o in e.childNodes){const a=e.childNodes[o];let s;switch(a.nodeName){case"Linear":s=Di(a,n);break;case"NonLinearAds":throw new Error("NonLinear ads are not supported");case"CompanionAds":throw new Error("CompanionAds ads are not supported")}s&&(r&&(s.universalAdIds=r),i&&(s.creativeExtensions=i),t.push(s))}})),t}function zi(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}const ji={Wrapper:{subElements:["VASTAdTagURI","Impression"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},UniversalAdId:{attributes:["idRegistry"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},StaticResource:{attributes:["creativeType"]}};function Wi(e,t){if(!ji[e.nodeName]||!ji[e.nodeName].attributes)return;const n=ji[e.nodeName].attributes.filter((t=>!e.getAttribute(t)));n.length>0&&qi({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:n},t)}function $i(e,t,n){const r=ji[e.nodeName],i=!n&&"Wrapper"!==e.nodeName;if(!r||i)return;if(r.subElements){const n=r.subElements.filter((t=>!Fi.childByName(e,t)));n.length>0&&qi({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:n},t)}if(!n||!r.oneOfinLineResources)return;r.oneOfinLineResources.some((t=>Fi.childByName(e,t)))||qi({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t)}function Hi(e){return e.children&&0!==e.children.length}function qi({name:e,parentName:t,attributes:n,subElements:r,oneOfResources:i},a){let o=`Element '${e}'`;o+=n?` missing required attribute(s) '${n.join(", ")}' `:r?` missing required sub element(s) '${r.join(", ")}' `:i?` must provide one of the following '${i.join(", ")}' `:" is empty",a("VAST-warning",{message:o,parentElement:t,specVersion:4.1})}const Gi={verifyRequiredValues:function e(t,n,r){if(t&&t.nodeName)if("InLine"===t.nodeName&&(r=!0),Wi(t,n),Hi(t)){$i(t,n,r);for(let i=0;i<t.children.length;i++)e(t.children[i],n,r)}else 0===Fi.parseNodeText(t).length&&qi({name:t.nodeName,parentName:t.parentNode.nodeName},n)},hasSubElements:Hi,emitMissingValueWarning:qi,verifyRequiredAttributes:Wi,verifyRequiredSubElements:$i};function Ji(e,t){const n=e.childNodes;for(const r in n){const i=n[r];if(-1!==["InLine"].indexOf(i.nodeName))return Fi.copyNodeAttribute("id",e,i),Fi.copyNodeAttribute("adType",e,i),{ad:Ki(i,t),type:"INLINE"}}}function Ki(e,t){return function(e,t){t&&Gi.verifyRequiredValues(e,t);const n=e.childNodes,r=function(e={}){return{id:e.id||null,adType:e.adType||null,adServingId:null,system:null,title:null,description:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(Fi.parseAttributes(e));for(const i in n){const e=n[i];switch(e.nodeName){case"Error":r.errorURLTemplates.push(Fi.parseNodeText(e));break;case"Impression":r.impressionURLTemplates.push({id:e.getAttribute("id")||null,url:Fi.parseNodeText(e)});break;case"Creatives":r.creatives=Mi(Fi.childrenByName(e,"Creative"));break;case"Extensions":{const t=Fi.childrenByName(e,"Extension");r.extensions=Bi(t);break}case"AdSystem":r.system={value:Fi.parseNodeText(e),version:e.getAttribute("version")||null};break;case"AdTitle":r.title=Fi.parseNodeText(e);break;case"AdServingId":r.adServingId=Fi.parseNodeText(e);break;case"Description":r.description=Fi.parseNodeText(e)}}return r}(e,t)}const Zi=["MEDIAPLAYHEAD","TIMESTAMP"];function Yi(e,t){const n=(e=Xi(e,t)).match(/[^[\]]+(?=])/g);if(!n)return e;let r=n.filter((e=>Zi.indexOf(e)>-1));return 0===r.length?e:(r=r.reduce(((e,t)=>(e[t]=-1,e)),{}),Xi(e,r))}function Xi(e,t){let n=e;for(const r in t){const e=t[r];n=n.replace(new RegExp(`(?:\\[|%%)(${r})(?:\\]|%%)`,"g"),e)}return n}function Qi(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16)}`))}const ea={track:function(e,t,n){(function(e,t={},n={}){const r=[],i=function(e){if(Array.isArray(e))return e.map((e=>e&&e.hasOwnProperty("url")?e.url:e));return e}(e);!t.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900);t.TIMESTAMP=(new Date).toISOString();for(const a in t)t[a]=Qi(t[a]);for(const a in i){const e=i[a];"string"==typeof e&&r.push(Yi(e,t))}return r})(e,t,n).forEach((e=>{if("undefined"!=typeof window&&null!==window){(new Image).src=e}}))}},ta={ERRORCODE:900,extensions:[]};class na{constructor(e){this.remainingAds=[],this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.URLTemplateFilters=[],this.emit=(t,n)=>{e(t,n)}}_trackVastError(e,t,...n){this.emit("VAST-error",Object.assign({},ta,t,...n)),ea.track(e,t)}_getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}_initParsingStatus(){this.errorURLTemplates=[],this.remainingAds=[],this.rootErrorURLTemplates=[],this.vastVersion=null}parseVAST(e){return this._initParsingStatus(),this._parse(e).then((e=>this.buildVASTResponse(e)))}buildVASTResponse(e){const t={ads:e,errorURLTemplates:this._getErrorURLTemplates(),version:this.vastVersion};return this._reportPossibleParsingErrors(t),t}_parseVastXml(e){if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR"}),new Error("Invalid VAST XMLDocument");const t=[],n=e.documentElement.childNodes,r=e.documentElement.getAttribute("version");r&&(this.vastVersion=r);for(const i in n){const e=n[i];if("Error"===e.nodeName){const t=Fi.parseNodeText(e);this.rootErrorURLTemplates.push(t)}else if("Ad"===e.nodeName){if(t.length>1)throw new Error("VAST document must contain one Ad");const n=Ji(e,this.emit.bind(this));n.ad?(t.push(n.ad),this.emit("VAST-ad-parsed",{type:n.type})):this._trackVastError(this._getErrorURLTemplates(),{ERRORCODE:101})}}return t}_parse(e){let t=[];try{t=this._parseVastXml(e)}catch(n){return Promise.reject(n)}return Promise.resolve(t)}_reportPossibleParsingErrors(e){if(0===e.ads.length)this._trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const n=e.ads[t];(n.errorCode||0===n.creatives.length)&&(this._trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(t,1))}}}class ra{constructor(){}_getConnectionType(){if("string"==typeof navigator.connection.type&&""!==navigator.connection.type)switch(navigator.connection.type){case"ethernet":return"ethernet";case"wifi":case"wimax":return"wifi";case"bluetooth":case"cellular":return"cellular";case"none":return"none"}return"unknown"}_getBandwidthEstimate(){if("number"==typeof navigator.connection.downlink&&navigator.connection.downlink>0)return navigator.connection.downlink;if("string"==typeof navigator.connection.effectiveType&&""!==navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"slow-2g":return.025;case"2g":return.035;case"3g":return.35;case"4g":return 1.4}else if("string"==typeof navigator.connection.type&&""!==navigator.connection.type)switch(navigator.connection.type){case"ethernet":case"wifi":case"wimax":return 1.4;case"bluetooth":case"cellular":return.35;case"none":return-1}return.025}get bandwidthData(){const e={estimate:-1,connectionType:"none"};return void 0===navigator.onLine||navigator.onLine?void 0===navigator.connection?{estimate:1.1,connectionType:"unknown"}:{estimate:this._getBandwidthEstimate(),connectionType:this._getConnectionType()}:e}}class ia{static _filterVersion(e){if(navigator.userAgent){const t=navigator.userAgent.match(e);if(Array.isArray(t)&&void 0!==t[1])return parseInt(t[1],10)}return-1}static get _testVideo(){return document.createElement("video")}static get hasTouchEvents(){return!!(void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof window.DocumentTouch)}static get userAgent(){return navigator.userAgent?navigator.userAgent:null}static get devicePixelRatio(){let e=1;return Number.isFinite(window.devicePixelRatio)&&window.devicePixelRatio>1&&(e=window.devicePixelRatio),e}static get maxTouchPoints(){return"number"==typeof navigator.maxTouchPoints?navigator.maxTouchPoints:-1}static get isIos(){const e=/os\s+(\d+)_/i;let t=[!1,-1];return/(ipad|iphone|ipod)/i.test(ia.userAgent)&&ia.hasTouchEvents&&(t=[!0,ia._filterVersion(e)]),t}static get isIpadOS(){return!!(!ia.isIos[0]&&ia.hasTouchEvents&&/macintel/i.test(navigator.platform)&&ia.devicePixelRatio>1&&ia.maxTouchPoints>1)}static get isMacOS(){const e=/mac\s+os\s+x\s+(\d+)_(\d+)/i;let t=!1,n=-1;return ia.isIos[0]||ia.isIpadOS||!/(macintosh|mac\s+os)/i.test(ia.userAgent)||(t=!0,n=ia._filterVersion(e,!0)),[t,n]}static get isSafari(){const e=/version\/(\d+)\./i;let t=!1,n=-1;return/safari\/[.0-9]*/i.test(ia.userAgent)&&!/(chrome|chromium|android|crios|fxios)/i.test(ia.userAgent)&&(t=!0,n=ia._filterVersion(e)),[t,n]}static get isMacOSSafari(){return ia.isMacOS[0]&&ia.isSafari[0]}static get isAndroid(){const e=/android\s*(\d+)\./i;let t=[!1,-1];return!ia.isIos[0]&&ia.hasTouchEvents&&/android/i.test(ia.userAgent)&&(t=[!0,ia._filterVersion(e)]),t}static get isMobile(){return!!(ia.isIos[0]||ia.isAndroid[0]||ia.isIpadOS)}static get hasNativeFullscreenSupport(){const e=document.documentElement,t=ia._testVideo;return!(!e||void 0===e.requestFullscreen&&void 0===e.webkitRequestFullscreen&&void 0===e.mozRequestFullScreen&&void 0===e.msRequestFullscreen&&void 0===t.webkitEnterFullscreen)}static checkCanPlayType(e,t){const n=ia._testVideo;if("undefined"!==n.canPlayType){if((ia.isSafari[0]||ia.isIpadOS[0]||ia.isIos[0])&&"video/webm"===e)return!1;if(e&&t){let i;try{i=n.canPlayType(`${e}; codecs="${t}"`)}catch(r){return i=n.canPlayType(e),"probably"===i}if(""!==i)return!0}else if(e&&!t){if(""!==n.canPlayType(e))return!0}}return!1}}class aa{static _getStyleAttributeData(e,t){let n=0;const r=window.getComputedStyle(e,null);return r&&(n=r.getPropertyValue(t),n=n.toString().toLowerCase()),parseFloat(n)}static getWidth(e){return e?Number.isFinite(e.offsetWidth)&&0!==e.offsetWidth?e.offsetWidth:aa._getStyleAttributeData(e,"width"):0}static getHeight(e){return e?Number.isFinite(e.offsetHeight)&&0!==e.offsetHeight?e.offsetHeight:aa._getStyleAttributeData(e,"height"):0}static show(e){e&&(e.style.display="block")}static hide(e){e&&(e.style.display="none")}static get consoleStyle(){return"color: white; background-color: #00ACC1; padding:1px 3px; border-radius: 3px; margin-right: 7px"}static get consoleStyle2(){return"color: white; background-color: #FB8C00; padding:1px 3px; border-radius: 3px; margin-right: 7px"}static get consolePrepend(){return navigator&&navigator.userAgent&&/(edge|xbox|msie|trident)/i.test(navigator.userAgent)?"RMP-VAST:":"%crmp-vast%c"}static logVideoEvents(e,t){["loadstart","durationchange","playing","waiting","loadedmetadata","loadeddata","canplay","canplaythrough"].forEach((t=>{e.addEventListener(t,(e=>{e&&e.type}))}))}static ajax(e,t,n,r=0){return new Promise(((i,a)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.timeout=t,n&&(o.withCredentials=!0),o.onloadend=()=>{"number"==typeof o.status&&o.status>=200&&o.status<300?i("XMLHttpRequest request succeeded"):r<1||"number"!=typeof r?a(`XMLHttpRequest wrong status code: ${o.status}`):aa.ajax(e,t,n,r-1)},o.ontimeout=()=>{r<1||"number"!=typeof r?a("XMLHttpRequest timeout"):aa.ajax(e,t,n,r-1)},o.send(null)}))}}class oa{static _dispatch(e){const t=this.trackingTags.filter((t=>e===t.event));t.length>0&&t.forEach((e=>{oa.pingURI.call(this,e.url)}))}static _vastReadableTime(e){if(!Number.isFinite(e)||e<0)return"00:00:00.000";const t=(e,t=2)=>String(e).padStart(t,"0"),n=t(Math.floor(e%1e3),3);let r=Math.floor(e/1e3);const i=Math.floor(r/60),a=Math.floor(i/60);r%=60;const o=t(r),s=t(i%60);return`${t(a>23?0:a)}:${s}:${o}.${n}`}static _ping(e){aa.ajax(e,this.params.ajaxTimeout,!1,2).then((()=>{})).catch((e=>{}))}static _onVolumeChange(){this.__adPlayer.muted||0===this.__adPlayer.volume?(sa.createApiEvent.call(this,"advolumemuted"),oa.dispatch.call(this,"mute")):!this.__adPlayer.muted&&this.__adPlayer.volume>0&&oa.dispatch.call(this,"unmute"),sa.createApiEvent.call(this,"advolumechanged")}static _onTimeupdate(){let e=-1,t=-1;this.rmpVastAdPlayer&&(t=this.rmpVastAdPlayer.currentTime,e=this.rmpVastAdPlayer.duration),t>0&&e>0&&e>t&&(t>=.25*e&&!this.firstQuartileEventFired?(this.firstQuartileEventFired=!0,sa.createApiEvent.call(this,"adfirstquartile"),oa.dispatch.call(this,"firstQuartile")):t>=.5*e&&!this.midpointEventFired?(this.midpointEventFired=!0,sa.createApiEvent.call(this,"admidpoint"),oa.dispatch.call(this,"midpoint")):t>=.75*e&&!this.thirdQuartileEventFired&&(this.thirdQuartileEventFired=!0,sa.createApiEvent.call(this,"adthirdquartile"),oa.dispatch.call(this,"thirdQuartile")),t>=2e3&&!this.progressEventFired&&(this.progressEventFired=!0,sa.createApiEvent.call(this,"adprogress"),oa.dispatch.call(this,"progress-2")),Object.entries(this.params.timeEvents).forEach((([n,r])=>{if(!this.timeEventsFired[n]){(r<0&&t>=e+r||r>=0&&t>=r)&&(this.timeEventsFired[n]=!0,sa.createApiEvent.call(this,n))}})))}static _onPause(){if(this.__adPlayer&&this.__adPlayer.paused){if(this.__adPlayer.currentTime===this.__adPlayer.duration)return;sa.createApiEvent.call(this,"adpaused"),oa.dispatch.call(this,"pause")}}static _onPlay(){this.__adPlayer&&!this.__adPlayer.paused&&0!==this.__adPlayer.currentTime&&(sa.createApiEvent.call(this,"adresumed"),oa.dispatch.call(this,"resume"))}static _onPlaying(){sa.createApiEvent.call(this,["adimpression","adstarted"]),oa.dispatch.call(this,["start","creativeView","impression"])}static _onEnded(){sa.createApiEvent.call(this,"adcomplete"),oa.dispatch.call(this,"complete"),this.rmpVastAdPlayer&&(this.params.pauseOnEnd?this.__adPlayer.pause():this.rmpVastAdPlayer.destroy())}static replaceMacros(e){if(!/\[.+?\]/i.test(e))return e;let t=e;const n=/\[TIMESTAMP\]/gi,r=(new Date).toISOString();n.test(t)&&(t=t.replace(n,encodeURIComponent(r)));const i=/\[MEDIAPLAYHEAD\]/gi;let a=-1;return this.rmpVastAdPlayer&&(a=this.rmpVastAdPlayer.currentTime),i.test(t)&&a>-1&&(t=t.replace(i,encodeURIComponent(oa._vastReadableTime(a)))),t}static pingURI(e){const t=oa.replaceMacros.call(this,e);oa._ping.call(this,t)}static error(e,t){let n=this.adErrorTags;303===e&&this.vastErrorTags.length>0&&(n=[...n,...this.vastErrorTags]),n.length>0&&n.forEach((n=>{if(n.url){let r=n.url;const i=/\[ERRORCODE\]/gi;if(i.test(r)&&Number.isFinite(e)&&e>0&&e<1e3&&(r=r.replace(i,e)),t){const e=JSON.stringify(t),n=encodeURIComponent(e),i=`${r}${-1!==r.indexOf("?")?"&":"?"}extra=${n}`;r=i}oa._ping.call(this,r)}}))}static dispatch(e){Array.isArray(e)?e.forEach((e=>{oa._dispatch.call(this,e)})):oa._dispatch.call(this,e)}static destroy(){this.__adPlayer&&(this.__adPlayer.removeEventListener("pause",this.onPauseFn),this.__adPlayer.removeEventListener("play",this.onPlayFn),this.__adPlayer.removeEventListener("playing",this.onPlayingFn),this.__adPlayer.removeEventListener("ended",this.onEndedFn),this.__adPlayer.removeEventListener("volumechange",this.onVolumeChangeFn),this.__adPlayer.removeEventListener("timeupdate",this.onTimeupdateFn))}static wire(){this.__adPlayer&&this.creative.isLinear&&!this.rmpVastVpaidPlayer&&(this.onPauseFn=oa._onPause.bind(this),this.__adPlayer.addEventListener("pause",this.onPauseFn),this.onPlayFn=oa._onPlay.bind(this),this.__adPlayer.addEventListener("play",this.onPlayFn),this.onPlayingFn=oa._onPlaying.bind(this),this.__adPlayer.addEventListener("playing",this.onPlayingFn,{once:!0}),this.onEndedFn=oa._onEnded.bind(this),this.__adPlayer.addEventListener("ended",this.onEndedFn,{once:!0}),this.onVolumeChangeFn=oa._onVolumeChange.bind(this),this.__adPlayer.addEventListener("volumechange",this.onVolumeChangeFn),this.onTimeupdateFn=oa._onTimeupdate.bind(this),this.__adPlayer.addEventListener("timeupdate",this.onTimeupdateFn))}}class sa{static _updateVastError(e){const t=[201,204,205,400,401,402,403,501,502,503,603,901,1002],n=[303,900,1001],r=[{code:201,description:"Video player expecting different linearity."},{code:303,description:"No VAST response after one or more Wrappers."},{code:400,description:"General Linear error. Video player is unable to display the Linear Ad."},{code:401,description:"File not found. Unable to find Linear/MediaFile from URI."},{code:402,description:"Timeout of MediaFile URI."},{code:403,description:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},{code:501,description:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},{code:502,description:"Unable to fetch NonLinearAds/NonLinear resource."},{code:503,description:"Could not find NonLinear resource with supported type."},{code:603,description:"Unable to fetch CompanionAds/Companion resource."},{code:900,description:"Undefined Error."},{code:901,description:"General VPAID error."},{code:1001,description:"Invalid input for loadAds method"},{code:1002,description:"Required DOMParser API is not available"}].filter((t=>t.code===e));r.length>0?(this.__vastErrorCode=r[0].code,this.__adErrorMessage=r[0].description):(this.__vastErrorCode=-1,this.__adErrorMessage="Error getting VAST error"),this.__vastErrorCode>-1&&(n.indexOf(this.__vastErrorCode)>-1?this.__adErrorType="adLoadError":t.indexOf(this.__vastErrorCode)>-1&&(this.__adErrorType="adPlayError"))}static filterParams(e){if(this.params={ajaxTimeout:5e3,creativeLoadTimeout:8e3,ajaxWithCredentials:!1,maxNumRedirects:4,vastXmlInput:!1,enableVpaid:!1,pauseOnEnd:!1,timeEvents:{},clickThroughElementId:""},e&&"object"==typeof e){Object.keys(e).forEach((t=>{typeof e[t]==typeof this.params[t]&&(Number.isFinite(e[t])&&e[t]>0||"number"!=typeof e[t])&&(this.params[t]=e[t])}))}}static createApiEvent(e){Array.isArray(e)?e.forEach((e=>{e&&this.dispatch(e)})):e&&this.dispatch(e)}static playPromise(e,t){let n;switch(e){case"content":n=this.__contentPlayer;break;case"vast":n=this.__adPlayer}if(n){const r=n.play();void 0!==r&&r.then((()=>{t&&sa.createApiEvent.call(this,"adinitialplayrequestsucceeded")})).catch((n=>{console.warn(n),t&&"vast"===e&&this.creative.isLinear?(sa.createApiEvent.call(this,"adinitialplayrequestfailed"),this.rmpVastAdPlayer.appendPlayButton()):t&&"content"===e&&!this.creative.isLinear&&sa.createApiEvent.call(this,"adinitialplayrequestfailed")}))}}static initInstanceVariables(){this.adContainer=null,this.contentWrapper=null,this.container=null,this.rmpVastContentPlayer=null,this.rmpVastAdPlayer=null,this.currentContentSrc="",this.currentContentCurrentTime=-1,this.params={},this.events={},this.adPod=!1,this.adPodLength=0,this.__contentPlayer=null,this.__adPlayer=null,this.__initialized=!1,this.__contentPlayerCompleted=!1}static resetVariablesForNewLoadAds(){this.off("adstarted",this.attachViewableObserverFn),this.onPauseFn=null,this.onPlayFn=null,this.onPlayingFn=null,this.onEndedFn=null,this.onVolumeChangeFn=null,this.onTimeupdateFn=null,this.trackingTags=[],this.vastErrorTags=[],this.adErrorTags=[],this.firstQuartileEventFired=!1,this.midpointEventFired=!1,this.progressEventFired=!1,this.thirdQuartileEventFired=!1,this.needsSeekAdjust=!1,this.seekAdjustAttached=!1,this.ad={},this.creative={},this.attachViewableObserverFn=null,this.viewableObserver=null,this.viewablePreviousRatio=.5,this.progressEvents=[],this.rmpVastLinearCreative=null,this.rmpVastVpaidPlayer=null,this.adParametersData="",this.__vastErrorCode=-1,this.__adErrorType="",this.__adErrorMessage="",this.__adOnStage=!1,this.timeEventsFired={},this.clickThroughElement=null}static processVastErrors(e,t,n){t&&oa.error.call(this,e,n),sa._updateVastError.call(this,e),sa.createApiEvent.call(this,"aderror"),this.rmpVastAdPlayer&&this.rmpVastAdPlayer.destroy()}}class la{constructor(e){this._rmpVast=e,this._params=e.params,this._container=e.container,this._adContainer=e.adContainer,this._adPlayer=e.__adPlayer,this._contentPlayer=e.__contentPlayer,this._firstAdPlayerPlayRequest=!0,this._skippableAdCanBeSkipped=!1,this._onTimeupdateCheckSkipFn=null,this._onDurationChangeFn=null,this._onLoadedmetadataPlayFn=null,this._onContextMenuFn=null,this._onPlaybackErrorFn=null,this._onInteractionOpenClickThroughUrlFn=null,this._creativeLoadTimeoutCallback=null}get skippableAdCanBeSkipped(){return this._skippableAdCanBeSkipped}_onDurationChange(){let e=-1;if(this._rmpVast.rmpVastAdPlayer&&(e=this._rmpVast.rmpVastAdPlayer.duration),sa.createApiEvent.call(this._rmpVast,"addurationchange"),-1===e)return;Object.keys(this._rmpVast.creative.trackingEvents).forEach((t=>{if(/progress-/i.test(t)){const n=t.split("-")[1];if(/%/i.test(n)){let r=n.slice(0,-1);r=e*parseFloat(r)/100;this._rmpVast.creative.trackingEvents[t].forEach((e=>{this._rmpVast.progressEvents.push({time:r,url:e})}))}else{this._rmpVast.creative.trackingEvents[t].forEach((e=>{this._rmpVast.progressEvents.push({time:1e3*parseFloat(n),url:e})}))}}})),this._rmpVast.progressEvents.length>0&&this._rmpVast.progressEvents.sort(((e,t)=>e.time-t.time))}_onLoadedmetadataPlay(){clearTimeout(this._creativeLoadTimeoutCallback),this._adPlayer&&(this._contentPlayer.muted?this._adPlayer.muted=!0:this._adPlayer.muted=!1),aa.show(this._adContainer),aa.show(this._adPlayer),this._rmpVast.__adOnStage=!0,this._rmpVast.rmpVastAdPlayer&&(this._rmpVast.rmpVastAdPlayer.play(this._firstAdPlayerPlayRequest),this._firstAdPlayerPlayRequest=!1),sa.createApiEvent.call(this._rmpVast,"adloaded"),oa.dispatch.call(this._rmpVast,"loaded")}_onInteractionOpenClickThroughUrl(e){e&&e.stopPropagation(),sa.createApiEvent.call(this._rmpVast,"adclick"),oa.dispatch.call(this._rmpVast,"clickthrough")}_onPlaybackError(e){if(e&&e.target){const t=e.target;if(t.error&&Number.isFinite(t.error.code)){const e=t.error.code;let n="";"string"==typeof t.error.message&&(n=t.error.message);if(4===e){const e={errorCode:t.error.code,errorMessage:t.error.message,videoNetworkState:t.networkState,videoReadyState:t.readyState,videoSrc:t.src,videoCurrentSrc:t.currentSrc};sa.processVastErrors.call(this._rmpVast,401,!0,e)}}}}_onContextMenu(e){e&&(e.stopPropagation(),e.preventDefault())}_onTimeupdateCheckSkip(){const e=this._adPlayer.currentTime;Number.isFinite(e)&&e>0&&e>=this._rmpVast.creative.skipoffset&&(this._adPlayer.removeEventListener("timeupdate",this._onTimeupdateCheckSkipFn),this._skippableAdCanBeSkipped=!0,sa.createApiEvent.call(this._rmpVast,"adskippablestatechanged"))}destroy(){clearTimeout(this._creativeLoadTimeoutCallback),this._adPlayer&&(this._adPlayer.removeEventListener("click",this._onInteractionOpenClickThroughUrlFn),this._adPlayer.removeEventListener("timeupdate",this._onTimeupdateCheckSkipFn),this._adPlayer.removeEventListener("durationchange",this._onDurationChangeFn),this._adPlayer.removeEventListener("loadedmetadata",this._onLoadedmetadataPlayFn),this._adPlayer.removeEventListener("contextmenu",this._onContextMenuFn),this._adPlayer.removeEventListener("error",this._onPlaybackErrorFn)),this._contentPlayer.removeEventListener("error",this._onPlaybackErrorFn),this.clickThroughElement&&this.clickThroughElement.removeEventListener("click",this._onInteractionOpenClickThroughUrlFn)}update(e,t){if(this._onDurationChangeFn=this._onDurationChange.bind(this),this._adPlayer.addEventListener("durationchange",this._onDurationChangeFn,{once:!0}),this._onLoadedmetadataPlayFn=this._onLoadedmetadataPlay.bind(this),this._adPlayer.addEventListener("loadedmetadata",this._onLoadedmetadataPlayFn,{once:!0}),this._onContextMenuFn=this._onContextMenu.bind(this),this._adPlayer.addEventListener("contextmenu",this._onContextMenuFn),this._onPlaybackErrorFn=this._onPlaybackError.bind(this),this._creativeLoadTimeoutCallback=setTimeout((()=>{const e=this._adPlayer,t={videoNetworkState:e.networkState,videoReadyState:e.readyState,videoSrc:e.src,videoCurrentSrc:e.currentSrc};sa.processVastErrors.call(this._rmpVast,402,!0,t)}),this._params.creativeLoadTimeout),this._adPlayer.addEventListener("error",this._onPlaybackErrorFn),this._adPlayer.src=e,this._adPlayer.load(),this._onInteractionOpenClickThroughUrlFn=this._onInteractionOpenClickThroughUrl.bind(this),this._rmpVast.creative.clickThroughUrl){if(this.clickThroughElement=this._params.clickThroughElementId&&this._container.getRootNode().querySelector(`#${CSS.escape(this._params.clickThroughElementId)}`),!this.clickThroughElement)throw new Error("clickThroughElementId is not valid");this.clickThroughElement.addEventListener("click",this._onInteractionOpenClickThroughUrlFn)}this._rmpVast.creative.isSkippableAd&&(this._onTimeupdateCheckSkipFn=this._onTimeupdateCheckSkip.bind(this),this._adPlayer.addEventListener("timeupdate",this._onTimeupdateCheckSkipFn))}parse(e){const t=e.mediaFiles;if(0===t.length)return;const n="hvc1",r="avc1.4d401f",i="vp9",a=e=>{if(e.codec&&e.mimeType)return e.codec;if("video/mp4"===e.mimeType&&e.fileURL.endsWith("-x265.mp4"))return n;if(e.mimeType)switch(e.mimeType){case"video/mp4":return r;case"video/webm":return i;default:return null}return null},o=["video/mp4","video/webm"],s=t.filter((e=>null!==e.fileURL&&null!==e.mimeType&&o.includes(e.mimeType)&&(e=>{const t=a(e);return!!t&&ia.checkCanPlayType(e.mimeType,t)})(e)));if(0===s.length){const e=t.findAll((e=>"video/mp4"===e.mimeType&&a(e)===r));s.push(...e)}const l=e=>{const{width:t,height:o,bitrate:s}=e;if(s)return s;return{[r]:87e-5,[i]:61e-5,[n]:76e-5}[a(e)]*t*o},c=new ra,d=c.bandwidthData.estimate>-1,u=e=>{const{width:t,height:n}=e;let r=1;if(d){const t=Math.round(1e3*c.bandwidthData.estimate);r*=Math.min(t/l(e),1)}if(t&&n){const e=Math.min(t/(aa.getWidth(this._container)*ia.devicePixelRatio),n/(aa.getHeight(this._container)*ia.devicePixelRatio));r*=Math.min(1,e)}return r};let p,_=0;for(let h=0;h<s.length;h++){const e=u(s[h]);e>_?(_=e,p=s[h]):e===_&&(p=l(s[h])<l(p)?s[h]:p)}this._rmpVast.creative.mediaUrl=p.fileURL,this._rmpVast.creative.height=p.height,this._rmpVast.creative.width=p.width,this._rmpVast.creative.type=p.mimeType,this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.append(p.fileURL,p.mimeType)}}class ca{constructor(e){this.eventName=e,this.callbacks=[]}registerCallback(e){this.callbacks.push(e)}unregisterCallback(e){const t=this.callbacks.indexOf(e);t>-1&&this.callbacks.splice(t,1)}fire(e){this.callbacks.slice(0).forEach((t=>{t(e)}))}}class da{_rmpVast;constructor(e){this._rmpVast=e,this._params=e.params,this._adContainer=e.adContainer,this._contentWrapper=e.contentWrapper,this._adPlayer=null,this._onTimeUpdateFn=null,this._onProgressFn=null,this._onPlayButtonClickFn=null}destroy(){this._rmpVast.rmpVastLinearCreative&&this._rmpVast.rmpVastLinearCreative.destroy(),this._onTimeUpdateFn&&this._adPlayer.removeEventListener("timeupdate",this._onTimeUpdateFn),this._onProgressFn&&this._adPlayer.removeEventListener("progress",this._onProgressFn),this._onPlayButtonClickFn&&this._adPlayer.removeEventListener("click",this._onPlayButtonClickFn),oa.destroy.call(this._rmpVast),aa.hide(this._adContainer);try{this._adPlayer&&(this._adPlayer.pause(),this._adPlayer.removeAttribute("src"),this._adPlayer.load(),aa.hide(this._adPlayer))}catch(e){console.warn(e)}sa.resetVariablesForNewLoadAds.call(this._rmpVast),sa.createApiEvent.call(this._rmpVast,"addestroyed")}init(){this._rmpVast.adContainer=this._adContainer=document.createElement("div"),this._adContainer.className="rmp-ad-container",this._contentWrapper.appendChild(this._adContainer),aa.hide(this._adContainer),this._rmpVast.__adPlayer=this._adPlayer=this._rmpVast.__contentPlayer,aa.logVideoEvents(this._adPlayer,"ad"),ia.isMobile&&this._adPlayer.load(),(ia.isIos[0]||ia.isMacOS[0]||ia.isIpadOS||ia.isMacOS[0])&&(this._onTimeUpdateFn=this._onTimeUpdate.bind(this),this._adPlayer.addEventListener("timeupdate",this._onTimeUpdateFn),this._onProgressFn=this._onProgress.bind(this),this._adPlayer.addEventListener("progress",this._onProgressFn)),this._rmpVast.__initialized=!0}append(e,t){if(!this._adPlayer)throw new Error("AdPlayer: missing ad player");e&&t&&this._rmpVast.rmpVastLinearCreative&&this._rmpVast.rmpVastLinearCreative.update(e,t),oa.wire.call(this._rmpVast)}appendPlayButton(){const e=document.createElement("div");e.className="rmp-ad-container-play-button",e.style.cssText="width: 136px; height: 136px; border-radius: 100%; background-color: rgb(255 255 255 / 12%); position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); display: flex; justify-content: center; align-items: center;",e.setAttribute("data-testid","play-button");const t=document.createElement("img");t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7dztcdNAEIDhNUMBKcHpIKkAUgFDBTgV4FRgUwGhAkMFmApsKiBUIHUAHSy7IzyRE9uxpDt93fvM7Ezy9/bjzmdZIgAAAAAAAAAAjIOqXlls9JH/PRXE5wtt8UcPW5GIyJ5U/iGZxQdBHHo+T8Q7QVha3UoZS+FofUtBc9pMpuwPzWgY35WxVI+G9ZlEVKThZTqisTSRyHzFJI7c4mYymeQyYK9kuKYW3g0rxtIJ2g6/6lgKntN2ZcqxdZ92Y6UDGUtD3oTP8cni3jbqv5Iq7V6mPR5LY++AsgeL9307tg75GFrVlfTw2JpSAnZmFpu+jKWURtAhucXcxtIP6UiKHVA2tVh3OZZST8DOTIr9YSktIwH7Fm0fW1PfA05ZW9zFPraSgJfdW3yJlQgScJ7cYmlJ+CaBkYBqcgn8JRCbcDVTKU5LcwmEDqjHb1cvQ9yy0gH1XFgEeYySBHSMBNT3WwIgAfV8tfn/IAGQgOr8g9mdBPJacK7cYmaV/1MCogPO41V/HXrxHR1wWi4Rqr6MDjguWtWX0QHP+elmHnvhd+iAfX7jed3W4js6oLCV4suXIGf7KlLvAL9M83Fz08Xiu5Q7YGtx2/WTcil2QLnqc+lYah2wlR5UfVkqHdCrqi9LoQO20rOqLxtzB/S26svG2gH+UNXtEH4ZM7YE+IL7wq9lIMY0gvzy7HJIi+/G0AG5RL4yHjSNy1/ecSE4TuPILN4IXqbhUfVVaDiZUvXVaRhUfV3azC+l6pvR+haC5rS6jcWVIIwKC+8vXfooCEuPv7j7adVPBeHZwi6o+o5p8eJVqv6A6L8R29Hizehv//+75vIMAAAAAAAAAIDW/AMZppzFSmxZ4wAAAABJRU5ErkJggg==",t.width=96,t.height=96,e.appendChild(t),this._adContainer.appendChild(e),this._onPlayButtonClickFn=this._onPlayButtonClick.bind(this),this._adPlayer.addEventListener("click",this._onPlayButtonClickFn,{once:!0});const n=setTimeout((()=>{sa.processVastErrors.call(this,400,!0)}),8e3);this._adPlayer.addEventListener("playing",(()=>{e.remove(),clearTimeout(n)}),{once:!0})}_onPlayButtonClick(){this._adPlayer.play();const e=this._adContainer.querySelector(".rmp-ad-container-play-button");e&&e.remove()}_onTimeUpdate(){this.lastBufferedTime<this._adPlayer.currentTime&&this._adPlayer.pause()}_onProgress(){this.lastBufferedTime>this._adPlayer.currentTime&&this._adPlayer.paused&&this._adPlayer.play()}set volume(e){this._adPlayer&&(this._adPlayer.volume=e)}get volume(){return this._adPlayer?this._adPlayer.volume:-1}set muted(e){this._adPlayer&&(e&&!this._adPlayer.muted?this._adPlayer.muted=!0:!e&&this._adPlayer.muted&&(this._adPlayer.muted=!1))}get muted(){return!!this._adPlayer&&this._adPlayer.muted}get duration(){return this._adPlayer&&Number.isFinite(this._adPlayer.duration)?1e3*this._adPlayer.duration:-1}get currentTime(){return this._adPlayer&&Number.isFinite(this._adPlayer.currentTime)?1e3*this._adPlayer.currentTime:-1}get lastBufferedTime(){if(this._adPlayer.buffered&&this._adPlayer.buffered.length>0){const e=this._adPlayer.buffered?this._adPlayer.buffered.end(this._adPlayer.buffered.length-1):void 0;if(void 0!==e)return e}return 1/0}play(e){this._adPlayer&&this._adPlayer.paused&&sa.playPromise.call(this._rmpVast,"vast",e)}pause(){this._adPlayer&&!this._adPlayer.paused&&this._adPlayer.pause()}}class ua{rmpVastAdPlayer;rmpVastLinearCreative;constructor(e,t){sa.initInstanceVariables.call(this),e instanceof HTMLElement&&(this.container=e,this.contentWrapper=this.container.querySelector(".rmp-content"),this.__contentPlayer=this.container.querySelector(".rmp-video"),null!==this.container&&null!==this.contentWrapper&&null!==this.__contentPlayer&&(sa.resetVariablesForNewLoadAds.call(this),sa.filterParams.call(this,t)))}dispatch(e,t){const n=this.events[e];if(n){const r={type:e};t&&(r.data=t),n.fire(r)}}_on(e,t){let n=this.events[e];n||(n=new ca(e),this.events[e]=n),n.registerCallback(t)}on(e,t){if("string"!=typeof e||""===e||"function"!=typeof t)return;e.split(" ").forEach((e=>{this._on(e,t)}))}_off(e,t){const n=this.events[e];n&&n.callbacks.indexOf(t)>-1&&(n.unregisterCallback(t),0===n.callbacks.length&&delete this.events[e])}off(e,t){if("string"!=typeof e||""===e||"function"!=typeof t)return;e.split(" ").forEach((e=>{this._off(e,t)}))}_addTrackingEvents(e){Object.keys(e).forEach((t=>{e[t].forEach((e=>{this.trackingTags.push({event:t,url:e})}))}))}_loopAds(e){for(let t=0;t<e.length;t++){const n=e[t];this.ad.id=n.id,this.ad.adServingId=n.adServingId,this.ad.adType=n.adType,this.ad.title=n.title,this.ad.description=n.description,this.ad.system=n.system,n.errorURLTemplates.forEach((e=>{this.adErrorTags.push({event:"error",url:e})})),n.impressionURLTemplates.forEach((e=>{e.url&&this.trackingTags.push({event:"impression",url:e.url})}));const r=n.creatives;for(let e=0;e<r.length;e++){const t=r[e];this.creative.id=t.id,this.creative.universalAdIds=t.universalAdIds,this.creative.adId=t.adId,this.creative.trackingEvents=t.trackingEvents,this.creative.duration=t.duration,this.creative.skipDelay=t.skipDelay,this.creative.skipDelay&&(this.creative.skipoffset=t.skipDelay,this.creative.isSkippableAd=!0),t.videoClickThroughURLTemplate&&t.videoClickThroughURLTemplate.url&&(this.creative.clickThroughUrl=t.videoClickThroughURLTemplate.url),t.videoClickTrackingURLTemplates.length>0&&t.videoClickTrackingURLTemplates.forEach((e=>{e.url&&this.trackingTags.push({event:"clickthrough",url:e.url})})),this.creative.isLinear=!0,this._addTrackingEvents(t.trackingEvents),this.rmpVastLinearCreative=new la(this),this.rmpVastLinearCreative.parse(t)}}}_handleParsedVast(e){e.errorURLTemplates.length>0&&e.errorURLTemplates.forEach((e=>{this.vastErrorTags.push({event:"error",url:e})})),0!==e.ads.length?this._loopAds(e.ads):sa.processVastErrors.call(this,303,!0)}_getVastTag(e){if("string"==typeof e&&""!==e)if("undefined"!=typeof DOMParser){if(sa.createApiEvent.call(this,"adtagstartloading"),!this.params.vastXmlInput)throw new Error("VAST XML input is required. VAST loading by URI is not supported");{let n;try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(t){return console.warn(t),void sa.processVastErrors.call(this,900,!0)}new na(((e,t)=>{"VAST-error"!==e&&"ERROR"!==t.type||sa.processVastErrors.call(this,900,!0)})).parseVAST(n).then((e=>{sa.createApiEvent.call(this,"adtagloaded"),this._handleParsedVast(e)})).catch((e=>{console.warn(e),sa.processVastErrors.call(this,900,!0)}))}}else sa.processVastErrors.call(this,1002,!1);else sa.processVastErrors.call(this,1001,!1)}loadAds(e){if(this.__initialized||this.initialize(),this.__adOnStage)throw new Error("Creative already on stage, cannot load VAST");this._getVastTag(e)}play(){this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer&&this.rmpVastAdPlayer.play()}pause(){this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer&&this.rmpVastAdPlayer.pause()}destroy(){this.rmpVastAdPlayer&&this.rmpVastAdPlayer.destroy(),sa.initInstanceVariables.call(this)}get adPaused(){return!!(this.__adOnStage&&this.creative&&this.creative.isLinear&&this.__adPlayer)&&this.__adPlayer.paused}set volume(e){if(!Number.isFinite(e))return;let t=0;t=e<0?0:e>1?1:e,this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer&&(this.rmpVastAdPlayer.volume=t)}get volume(){return this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer?this.rmpVastAdPlayer.volume:-1}set muted(e){"boolean"==typeof e&&this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer&&(this.rmpVastAdPlayer.muted=e)}get muted(){return!(this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer)||this.rmpVastAdPlayer.muted}get adDuration(){return this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer?this.rmpVastAdPlayer.duration:-1}get adCurrentTime(){return this.__adOnStage&&this.creative&&this.creative.isLinear&&this.rmpVastAdPlayer?this.rmpVastAdPlayer.currentTime:-1}get clickThroughUrl(){return this.creative&&this.creative.clickThroughUrl?this.creative.clickThroughUrl:""}get isSkippableAd(){return!(!this.creative||!this.creative.isSkippableAd)}get adSkippableState(){return!!(this.__adOnStage&&this.isSkippableAd&&this.rmpVastLinearCreative)&&this.rmpVastLinearCreative.skippableAdCanBeSkipped}initialize(){this.__initialized||(this.rmpVastAdPlayer=new da(this),this.rmpVastAdPlayer.init())}}const pa=new class{subscribers={};dispatchedEvents=new Set;onFiredBeforePlayerEvent(e,t){this.dispatchedEvents.has(e)?t():(this.subscribers[e]??=[]).push(t)}dispatchEvent(e){this.dispatchedEvents.add(e),this.subscribers[e]?.map((e=>e())),this.subscribers[e]=[]}clear(){this.dispatchedEvents=new Set,this.subscribers={}}},_a=En((({setPlayerContext:e,playerRef:t,vast:n,setClickUrl:r,setIsPackshotVisible:i,packshotDuration:o,setIsActionButtonVisible:s})=>{const l=oi(),c=un(null),d=tr(),u=_n((e=>{const n=t.current;null!==n&&n.adPaused&&n.play(),e.preventDefault(),e.stopPropagation()}),[t]);return dn((()=>{null===t.current&&null!==c.current&&(t.current=new ua(c.current,{vastXmlInput:!0,pauseOnEnd:!0,timeEvents:{showActionButton:5e3,enableCloseButton:_i,showPackshot:-500},clickThroughElementId:fi(l)}),t.current.initialize(),t.current.on("addestroyed",(()=>{pa.clear()})),t.current.on("adstarted",(()=>{r(t.current?.clickThroughUrl??""),d.emit(ht.onStart)})),t.current.on("aderror",(()=>{d.emit(_t.error)})),t.current.on("showActionButton",(()=>{s(!0)})),t.current.loadAds(n),e(t.current))}),[d,l,t,e,r,n,s]),dn((()=>{const e=()=>{t.current?.play()},n=()=>{t.current?.pause()},r=()=>{t.current?.adPaused&&setTimeout((()=>t.current?.play()),500)},i=()=>{pa.clear(),t.current?.destroy()};return d.on(_t.play,e),d.on(_t.pause,n),d.on(_t.leave,n),d.on(_t.return,r),d.on(_t.finalDestroy,i),()=>{d.off(_t.play,e),d.off(_t.pause,n),d.off(_t.leave,n),d.off(_t.return,r),d.off(_t.finalDestroy,i)}}),[d,t]),(({packshotDuration:e,setIsPackshotVisible:t})=>{const n=mi(),r=rr(),i=tr(),o=Jn()===a.InterstitialFullscreen,s=un(null);dn((()=>{const r=()=>{t(!0),s.current=new ci({callbacks:{endCallback:()=>{i.emit(o?ht.onComplete:_t.sendReward)}},endTime:e/1e3})};return n&&n.on("adcomplete",r),()=>{n&&n.off("adcomplete",r)}}),[i,e,o,r,n,t]),dn((()=>{const e=()=>{s.current?.destroy()},t=()=>{s.current?.resume()},n=()=>{s.current?.stop()};return i.on(_t.finalDestroy,e),i.on(_t.play,t),i.on(_t.pause,n),()=>{i.off(_t.finalDestroy,e),i.off(_t.play,t),i.off(_t.pause,n)}}),[i,s])})({packshotDuration:o,setIsPackshotVisible:i}),or("div",{className:"rmp-container adsgram",ref:c,onClick:u,children:or("div",{className:"rmp-content",children:or("video",{className:"rmp-video",poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",muted:!0,playsInline:!0,controls:!1,disableRemotePlayback:!0,disablePictureInPicture:!0,preload:"auto"})})})})),ha={wrapper:"_wrapper_6njvr_1"};function ma({vast:e,playerRef:t,actionButtonTitle:n,image:r,hasPackshot:i,duration:a,title:o,description:s,kebab:l}){const[c,d]=cn(null),[u,p]=cn(""),[_,h]=cn(!1),[m,f]=cn(!1);return or(hi.Provider,{value:c,children:or("div",{className:ha.wrapper,children:[or(Vi,{kebab:l}),or(gi,{text:n,clickUrl:u,isVisible:m}),or(_a,{vast:e,playerRef:t,setPlayerContext:d,setClickUrl:p,setIsPackshotVisible:h,packshotDuration:a??0,setIsActionButtonVisible:f}),i&&or(Oi,{image:r,duration:a,title:o,description:s,isVisible:_}),or(xi,{packshotDuration:a})]})})}const fa={[r]:function({vast:e,packshotImage:t,actionButtonTitle:n,title:r,description:i,kebab:a}){const o=un(null),s=Yn("FORCED_SUB_FORMAT");return li(),or("div",{className:di,children:or(ma,{vast:e,playerRef:o,image:t,actionButtonTitle:n,hasPackshot:!0,title:r,description:i,duration:s?15e3:5e3,kebab:a})})},[i]:function({image:e,title:t,description:n,advertiserName:r,buttonName:i,url:o,icon:s,kebab:l}){const c=tr(),d=rr(),u=Wr("click"),p=Jn()===a.InterstitialFullscreen,_=Xn(),h=function(){const e=ye();return["android","android_x","ios"].includes(e)}(),m=pn((()=>new ci({callbacks:{endCallback:()=>{c.emit(p?ht.onComplete:_t.sendReward)},3:()=>v(!0),6:()=>g(!0),5:()=>w(!0)},endTime:_})),[c,_,p]),[f,g]=cn(!1),[b,v]=cn(!1),[y,w]=cn(!1),k=un(1/0),x=_n((e=>{b&&(e.isTrusted?(e.preventDefault(),e.stopPropagation(),zr(u,d),m.stop(),c.emit(_t.leave),k.current=Date.now(),_r({url:o,logger:d})):c.emit(ht.onError))}),[b,u,d,m,o,c]),E=un(null);return function({sendTackingTime:e,element:t,preventSend:n}){const r=rr(),i=tr(),a=Wr("show"),[o,s]=cn(!1),[l,c]=cn(!0),d=pn((()=>new ci({endTime:e,callbacks:{}})),[e]),u=ii(t),p=pn((()=>null!==t.current&&u&&l&&ri(t.current)),[t,l,u]),_=_n((async()=>{o||n||(await zr(a,r),s(!0))}),[o,r,n,a]),h=_n((()=>{p||d.stop()}),[p,d]);dn((()=>(d.subscribeOnTickUpdate(h),d.subscribeOnEnd(_),()=>{d.unsubscribeAll()})),[_,h,d]),dn((()=>{d.isStopped&&p&&d.restart()}),[p,d]),dn((()=>{const e=()=>{c(!0)},t=()=>{c(!1)};return i.on(_t.return,e),i.on(_t.leave,t),()=>{i.off(_t.return,e),i.off(_t.leave,t)}}),[i])}({sendTackingTime:2,element:E,preventSend:!1}),function({element:e}){const t=rr(),n=Wr("render"),r=un(!1),i=ii(e);dn((()=>{i&&n&&!r.current&&(zr(n,t),r.current=!0)}),[n,r,i,t])}({element:E}),li(),dn((()=>{const e=()=>{m.destroy()},t=()=>{m.resume()},n=()=>{m.stop()},r=()=>{Date.now()-k.current>1e4&&c.emit(p?ht.onComplete:_t.sendReward),k.current=1/0,m.resume()};return c.on(_t.finalDestroy,e),c.on(_t.play,t),c.on(_t.pause,n),c.on(_t.leave,n),c.on(_t.return,r),()=>{c.off(_t.finalDestroy,e),c.off(_t.play,t),c.off(_t.pause,n),c.off(_t.leave,n),c.off(_t.return,r)}}),[c,p,m]),dn((()=>{c.emit(ht.onStart)}),[c]),or("div",{className:jt(Ht,!1),ref:E,children:[or(sr,{}),or("div",{className:jt(qt,!h&&Gt),children:[or(Jr,{advertiserName:r,title:t,description:n,image:e,icon:s,onClick:x,isClickable:b,kebab:l,isCloseVisible:y}),b&&or(Qr,{buttonName:i,onClick:x,url:o}),f&&!p&&or(ni,{}),or(wr,{timer:m})]})]})}};function ga(e){const{blockId:t,EventEmitter:n,logger:r,children:i,exp:a,trackings:o,blockType:s}=e;return or(nr.Provider,{value:r,children:or(er.Provider,{value:n,children:or(ai.Provider,{value:t,children:or(Zn.Provider,{value:a,children:or(Jt.Provider,{value:s,children:or(jr.Provider,{value:o,children:i})})})})})})}const ba=["Go!","Install","Open","View","Buy","Subscribe","Play Now!","Play Now!","Join Now!","Follow us!"],va={"Go!":{en:"Go!",ru:"–í–ø–µ—Ä—ë–¥!",uk:"–í–ø–µ—Ä–µ–¥!",uz:"–ë–æ—Ä–∞–π–ª–∏–∫!",fa:"ÿ®ÿ±Ÿà!",ar:"ÿßŸÜÿ∑ŸÑŸÇ!",id:"Ayo!",vi:"ƒêi th√¥i!",hi:"‡§ö‡§≤‡•ã!","pt-br":"V√°!",tr:"Hadi!",es:"¬°Ve!",fr:"Allez!",ko:"Í∞ÄÏûê!","zh-hans":"ÂéªÂêß!",ja:"Ë°å„Åë!",de:"Los!",pl:"Id≈∫!"},Install:{en:"Install",ru:"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å",uk:"–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏",uz:"O'rnatish",fa:"ŸÜÿµÿ®",ar:"ÿ™ÿ´ÿ®Ÿäÿ™",id:"Instal",vi:"C√†i ƒë·∫∑t",hi:"‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç","pt-br":"Instalar",tr:"Y√ºkle",es:"Instalar",fr:"Installer",ko:"ÏÑ§ÏπòÌïòÎã§","zh-hans":"ÂÆâË£Ö",ja:"„Ç§„É≥„Çπ„Éà„Éº„É´",de:"Installieren",pl:"Zainstaluj"},Open:{en:"Open",ru:"–û—Ç–∫—Ä—ã—Ç—å",uk:"–í—ñ–¥–∫—Ä–∏—Ç–∏",uz:"Ochish",fa:"ÿ®ÿßÿ≤ ⁄©ŸÜ",ar:"ŸÅÿ™ÿ≠",id:"Buka",vi:"M·ªü",hi:"‡§ñ‡•ã‡§≤‡•á‡§Ç","pt-br":"Abrir",tr:"A√ß",es:"Abrir",fr:"Ouvrir",ko:"Ïó¥Îã§","zh-hans":"ÊâìÂºÄ",ja:"Èñã„Åè",de:"√ñffnen",pl:"Otw√≥rz"},View:{en:"View",ru:"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å",uk:"–ü–µ—Ä–µ–≥–ª—è–¥",uz:"Ko'rish",fa:"ŸÖÿ¥ÿßŸáÿØŸá",ar:"ÿπÿ±ÿ∂",id:"Lihat",vi:"Xem",hi:"‡§¶‡•á‡§ñ‡•á‡§Ç","pt-br":"Ver",tr:"G√∂r√ºnt√ºle",es:"Ver",fr:"Voir",ko:"Î≥¥Îã§","zh-hans":"Êü•Áúã",ja:"Ë¶ã„Çã",de:"Anzeigen",pl:"Zobacz"},Buy:{en:"Buy",ru:"–ö—É–ø–∏—Ç—å",uk:"–ö—É–ø–∏—Ç–∏",uz:"Sotib olish",fa:"ÿÆÿ±€åÿØŸÜ",ar:"ÿ¥ÿ±ÿßÿ°",id:"Beli",vi:"Mua",hi:"‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç","pt-br":"Comprar",tr:"Satƒ±n al",es:"Comprar",fr:"Acheter",ko:"ÏÇ¨Îã§","zh-hans":"Ë¥≠‰π∞",ja:"Ë≤∑„ÅÜ",de:"Kaufen",pl:"Kup"},Subscribe:{en:"Subscribe",ru:"–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è",uk:"–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è",uz:"Obuna bo'lish",fa:"ÿßÿ¥ÿ™ÿ±ÿß⁄©",ar:"ÿßÿ¥ÿ™ÿ±ŸÉ",id:"Berlangganan",vi:"ƒêƒÉng k√Ω",hi:"‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡§æ ‡§≤‡•á‡§Ç","pt-br":"Inscrever-se",tr:"Abone ol",es:"Suscribirse",fr:"S'abonner",ko:"Íµ¨ÎèÖÌïòÎã§","zh-hans":"ËÆ¢ÈòÖ",ja:"Ë≥ºË™≠„Åô„Çã",de:"Abonnieren",pl:"Subskrybuj"},"Play Now!":{en:"Play Now!",ru:"–ò–≥—Ä–∞—Ç—å!",uk:"–ì—Ä–∞–π –∑–∞—Ä–∞–∑!",uz:"Hozir o'yna!",fa:"ÿß⁄©ŸÜŸàŸÜ ÿ®ÿßÿ≤€å ⁄©ŸÜ!",ar:"ÿßŸÑÿπÿ® ÿßŸÑÿ¢ŸÜ!",id:"Mainkan Sekarang!",vi:"Ch∆°i ngay!",hi:"‡§Ö‡§≠‡•Ä ‡§ñ‡•á‡§≤‡•á‡§Ç!","pt-br":"Jogue Agora!",tr:"≈ûimdi Oyna!",es:"¬°Juega ahora!",fr:"Jouez maintenant!",ko:"ÏßÄÍ∏à ÌîåÎ†àÏù¥!","zh-hans":"Á´ãÂç≥Ê∏∏Êàè!",ja:"‰ªä„Åô„ÅêÈÅä„Å∂!",de:"Jetzt spielen!",pl:"Graj teraz!"},"Join Now!":{en:"Join Now!",ru:"–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è!",uk:"–ü—Ä–∏—î–¥–Ω—É–π—Å—è –∑–∞—Ä–∞–∑!",uz:"Hozir qo'shiling!",fa:"ÿß⁄©ŸÜŸàŸÜ ÿ®Ÿæ€åŸàŸÜÿØ€åÿØ!",ar:"ÿßŸÜÿ∂ŸÖ ÿßŸÑÿ¢ŸÜ!",id:"Bergabung Sekarang!",vi:"Tham gia ngay!",hi:"‡§Ö‡§≠‡•Ä ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•ã‡§Ç!","pt-br":"Junte-se Agora!",tr:"≈ûimdi Katƒ±l!",es:"¬°√önete ahora!",fr:"Rejoignez maintenant!",ko:"ÏßÄÍ∏à Í∞ÄÏûÖÌïòÏÑ∏Ïöî!","zh-hans":"Á´ãÂç≥Âä†ÂÖ•!",ja:"‰ªä„Åô„ÅêÂèÇÂä†ÔºÅ",de:"Jetzt beitreten!",pl:"Do≈ÇƒÖcz —Å–µ–π—á–∞—Å!"},"Follow us!":{en:"Follow us!",ru:"–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è!",uk:"–°–ª—ñ–¥—É–π—Ç–µ –∑–∞ –Ω–∞–º–∏!",uz:"Bizga ergashing!",fa:"ŸÖÿß ÿ±ÿß ÿØŸÜÿ®ÿßŸÑ ⁄©ŸÜ€åÿØ!",ar:"ÿ™ÿßÿ®ÿπŸÜÿß!",id:"Ikuti kami!",vi:"Theo d√µi ch√∫ng t√¥i!",hi:"‡§π‡§Æ‡•á‡§Ç ‡§´‡•â‡§≤‡•ã ‡§ï‡§∞‡•á‡§Ç!","pt-br":"Siga-nos!",tr:"Bizi takip et!",es:"¬°S√≠guenos!",fr:"Suivez-nous!",ko:"Ïö∞Î¶¨Î•º ÌåîÎ°úÏö∞ÌïòÏÑ∏Ïöî!","zh-hans":"ÂÖ≥Ê≥®Êàë‰ª¨!",ja:"„Éï„Ç©„É≠„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ",de:"Folge uns!",pl:"Obserwuj nas!"}};function ya(e){return function(e){return ba.includes(e)}(e)?q(va[e]):e}function wa(e){const t={};for(const n in e){const{name:r,value:i}=e[n];t[r]=i}return t}const ka={[r]:function({banner:e}){const{bannerAssets:t}=e,{title:n,description:r,buttonName:i,buttonImg:a,vast:o,erid:s,regNumber:l,legalName:c,inn:d}=wa(t);return{vast:o,packshotImage:a,actionButtonTitle:ya(i),title:n,description:r,kebab:{erid:s,regNumber:l,legalName:c,inn:d}}},[i]:function({banner:e}){const{bannerAssets:t}=e,{advertiserName:n,buttonName:r,title:i,description:a,icon:o,image:s,url:l,erid:c,legalName:d,regNumber:u,inn:p}=wa(t);return{advertiserName:n,buttonName:ya(r),description:a,icon:o,image:s,url:l,title:i,kebab:{erid:c,legalName:d,regNumber:u,inn:p}}}};class xa extends ze{constructor(){super(),this.state={hasError:!1}}componentDidCatch(e,t){try{this.props.logger.add("componentStack",t?.componentStack).addError(e).send("ErrorBoundary")}catch{}this.setState({hasError:!0})}render({EventEmitter:e}){return this.state.hasError?(e.emit(_t.renderError),null):this.props.children}}function Ea(e){return e&&0!==e.length?e.reduce(((e,t)=>(e[t]=!0,e)),{}):{}}function Aa(e){if("https://127.0.0.1:3000"===window.location.origin||"https://tma.adsgram.ai"===window.location.origin){const e=JSON.parse(sessionStorage.getItem("flags")??"[]");if(e.length>0)return Ea(e)}return{...Kn,...Ea(e)}}function Ta({data:e,bannerType:t,blockType:n,blockId:r,EventEmitter:i,logger:a}){const o=fa[t],s=ka[t](e);return or(ga,{blockId:r,EventEmitter:i,logger:a,exp:Aa(e?.banner?.flags),trackings:function(e){if(!e)return;const t={};for(const n in e){const{name:r,value:i}=e[n];t[r]=i}return t}(e?.banner?.trackings),blockType:n,children:or(xa,{EventEmitter:i,blockId:r,campaignId:e.campaignId,logger:a,children:or(o,{...s})})})}function Pa(e){if(!(e instanceof HTMLElement))throw new pe({message:`${e} cannot be used to display ads`});return!1}const Ca="._banner_1toey_1{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:space-between;left:0;overflow-y:scroll;position:fixed;top:0;width:100%}._banner_1toey_1 button{appearance:none;background:none;box-shadow:none;outline:none;text-decoration:none}._banner_1toey_1 button:disabled{background:none}._banner_1toey_1::-webkit-scrollbar{display:none}._preview_1toey_30{position:static}._wrapper_1toey_34{display:flex;flex-direction:column;height:100%;margin:calc(28px + var(--adsgram-content-safe-area-top, 0px) + var(--adsgram-safe-area-top, 0px)) calc(60px + var(--adsgram-content-safe-area-right, 0px) + var(--adsgram-safe-area-right, 0px)) calc(var(--adsgram-content-safe-area-bottom, 0px) + var(--adsgram-safe-area-bottom, 0px)) calc(var(--adsgram-content-safe-area-left, 0px) + var(--adsgram-safe-area-left, 0px))}._wrapper_1toey_34._desktop_1toey_56{max-width:400px}",Sa="._banner_dls25_1{left:0;position:fixed;top:0}._banner_dls25_1,._preview_dls25_10{background-color:#000;height:100%;width:100%}._preview_dls25_10{position:absolute}._preview_dls25_10 .rmp-container{border-radius:var(--xs-spacings)}",Na='._label_dbgk3_1{border-radius:var(--s-spacing);cursor:pointer;padding:0 var(--xs-spacing);position:relative;width:fit-content;z-index:1}._label_dbgk3_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:var(--s-spacing);content:"";inset:0;position:absolute;z-index:-1}._text_dbgk3_19{color:var(--adsgram-button-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:23px;text-align:center;vertical-align:top}',Ra='._background_gvz1l_1{background-color:var(--adsgram-post-bg-color);height:100%;left:0;position:fixed;top:0;width:100%}._background_gvz1l_1._android-dark_gvz1l_11,._background_gvz1l_1._ios-dark_gvz1l_10{background-blend-mode:var(--adsgram-post-bg-blend-mode);background-image:var(--adsgram-post-bg-gradient)}._background_gvz1l_1:before{background-image:url(https://telegram.org/img/tgme/pattern.svg);background-position:50%;background-repeat:no-repeat;background-size:cover;content:"";filter:var(--adsgram-post-stroke-filter);inset:0;mix-blend-mode:var(--adsgram-post-mix-blend-mode);opacity:var(--adsgram-post-stroke-opacity);position:absolute}._background_gvz1l_1._android-light_gvz1l_30:after,._background_gvz1l_1._ios-light_gvz1l_29:after{background-blend-mode:var(--adsgram-post-bg-blend-mode);background-image:var(--adsgram-post-bg-gradient);content:"";height:100%;position:absolute;width:100%}._preview_gvz1l_39{border-radius:var(--xs-spacing);position:absolute}._preview_gvz1l_39:after{border-radius:var(--xs-spacing)}',Ia="._footer_1rexv_1{align-items:center;display:flex;flex:1 1 auto;flex-direction:column;gap:var(--xs-spacing);justify-content:end;margin:20px 0 16px 60px}",Va="._kebab_lsgwj_1{cursor:pointer;display:flex;position:relative}._hidden_lsgwj_7{visibility:hidden}._icon_lsgwj_11{filter:drop-shadow(1px 1px 1px rgb(0 0 0/15%));height:24px;width:24px}",La="._wrapper_6je2u_1{background:var(--adsgram-secondary-bg-color);border-radius:var(--xxs-spacing);box-shadow:0 1px 3px 1px #0000001f;box-sizing:border-box;cursor:default;max-width:220px;padding:6px 16px;position:absolute;width:calc(100vw - 140px)}._legal-info_6je2u_15,._wrapper_6je2u_1{display:flex;flex-direction:column}",Oa="._item_19dus_1{display:flex;flex-direction:column;gap:var(--xxxs-spacing);margin:var(--xs-spacing) 0;width:100%}._item_19dus_1 span{font-size:var(--text-xs);font-weight:var(--font-medium);line-height:14px}._header_19dus_15{color:var(--adsgram-subtitle-text-color,#82868a);white-space:nowrap}._content_19dus_20{color:var(--adsgram-text-color,#222)}",Fa="._button_1fq63_1{animation-duration:.3s;animation-fill-mode:forwards;animation-name:_show_1fq63_1;animation-timing-function:cubic-bezier(.05,.7,.1,1);background-color:var(--adsgram-button-color);border:1px solid transparent;border-radius:var(--xs-spacing);box-shadow:1px 1px 3px #0003;color:var(--adsgram-button-text-color);cursor:pointer;font-size:var(--text-l);font-weight:var(--font-medium);height:48px;left:50%;line-height:24px;padding:12px 24px;position:absolute;transform:translate(-50%);white-space:nowrap;z-index:3}@keyframes _show_1fq63_1{0%{bottom:10px;opacity:0}to{bottom:30px;opacity:1}}._visible_1fq63_36{animation-play-state:running;visibility:visible}._hidden_1fq63_41{animation-play-state:paused;visibility:hidden}",Da="._wrapper_14j31_1{cursor:pointer;display:flex;flex-direction:column;font-size:var(--text-s);font-weight:var(--font-normal);height:100%;letter-spacing:0;line-height:16px;margin:10px 0;text-align:center;width:100%}._adlabel_14j31_15,._adlabeltext_14j31_15{color:#fff9}._adlabel_14j31_15{align-items:center;display:flex;font-size:var(--text-s);font-weight:var(--font-normal);letter-spacing:0;line-height:16px}._tgchannel_14j31_29{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",Ba="._close_e7d2o_1{aspect-ratio:1/1;display:flex;flex-wrap:wrap;height:100%;place-content:center center}._close_e7d2o_1._clickable_e7d2o_9{cursor:pointer}._image_e7d2o_13{animation-duration:.15s;animation-name:_show_e7d2o_1;animation-play-state:running;animation-timing-function:cubic-bezier(0,0,0,1)}@keyframes _show_e7d2o_1{0%{opacity:0}to{opacity:1}}",Ua="._close_3nvo5_1{aspect-ratio:1/1;display:flex;flex-wrap:wrap;height:100%;place-content:center center}._close_3nvo5_1._clickable_3nvo5_9{cursor:pointer}._image_3nvo5_13{filter:brightness(0) saturate(100%) invert(63%) sepia(0) saturate(1041%) hue-rotate(147deg) brightness(98%) contrast(87%);opacity:.36;transition:.15s ease-out}._close_3nvo5_1._clickable_3nvo5_9 ._image_3nvo5_13{filter:none;opacity:1}",Ma="._footer_15eel_1{bottom:0;display:flex;justify-content:space-between;position:absolute;width:100%;z-index:3}",za="._header_1ke3p_1{--adsgram-header-height:52px;background:linear-gradient(rgba(0,0,0,.35),transparent);display:flex;height:var(--adsgram-header-height);justify-content:space-between;position:absolute;top:0;width:100%;z-index:3}._container_1ke3p_14{display:flex;width:var(--adsgram-header-height)}._expanded-header_1ke3p_19 ._container_1ke3p_14{width:calc(var(--adsgram-header-height)*2)}._label-container_1ke3p_23{display:flex;justify-content:center;width:calc(100% - var(--adsgram-header-height)*2)}._expanded-header_1ke3p_19 ._label-container_1ke3p_23{width:calc(100% - var(--adsgram-header-height)*4)}._preview_1ke3p_33{border-radius:8px 8px 0 0}._kebab_1ke3p_37{align-items:center;display:flex;height:var(--adsgram-header-height);justify-content:center;width:var(--adsgram-header-height)}._kebab-content_1ke3p_45{right:40px;top:10px}",ja="._packshot_1eu44_1{animation-duration:.2s;animation-name:_packshot_1eu44_1;animation-timing-function:cubic-bezier(0,0,0,1);-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:#141414cc;display:flex;flex-wrap:wrap;height:100%;place-content:center center;position:absolute;top:0;width:100%}@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){._packshot_1eu44_1{-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:#7474814d}}._creatives_1eu44_23{animation-duration:.4s;animation-name:_creatives_1eu44_23;animation-timing-function:cubic-bezier(.05,.7,.1,1);display:flex;flex-direction:column;place-content:center center;position:relative;transform:translateY(-26px);width:280px}._image_1eu44_35{border:1px solid rgb(0 0 0/4%);border-radius:20px;box-shadow:0 8px 20px #00000029;height:128px;margin:0 auto 20px;width:128px}._title_1eu44_44{color:#fff;font-size:28px;font-weight:700;letter-spacing:0;line-height:32px;margin:var(--xs-spacing);text-align:center}._description_1eu44_54{color:#fff9;font-size:16px;font-weight:var(--font-medium);letter-spacing:0;line-height:24px;text-align:center}._play_1eu44_63{animation-play-state:running;visibility:visible}._pause_1eu44_68{animation-play-state:paused;visibility:hidden}@keyframes _packshot_1eu44_1{0%{opacity:0}to{opacity:1}}@keyframes _creatives_1eu44_23{0%{opacity:0;top:40px}to{opacity:1;top:0}}",Wa=".rmp-container,.rmp-content,.rmp-video{height:100%;width:100%}",$a="._point_m3ogu_1{background-color:#fff;border-radius:3px;height:6px;opacity:0;position:absolute;top:6px;width:6px}",Ha="._timeline_1iayw_1{align-content:center;display:flex;flex-wrap:wrap;height:18px;margin:auto var(--xs-spacing);position:relative;width:100%}._bar_1iayw_11{background-color:#ffffff59;border-radius:var(--xxxs-spacing);height:2px;width:100%}._progress_1iayw_18{background-color:#fff;border-radius:var(--xxxs-spacing);height:100%;width:0}",qa="._volume_10n0w_1{aspect-ratio:1/1;cursor:pointer;display:flex;flex-wrap:wrap;height:100%;place-content:center center}",Ga="._wrapper_6njvr_1{height:calc(100% - var(--adsgram-content-safe-area-top, 0px) - var(--adsgram-safe-area-top, 0px) - var(--adsgram-content-safe-area-bottom, 0px) - var(--adsgram-safe-area-bottom, 0px));margin:calc(var(--adsgram-content-safe-area-top, 0px) + var(--adsgram-safe-area-top, 0px)) calc(var(--adsgram-content-safe-area-right, 0px) + var(--adsgram-safe-area-right, 0px)) calc(var(--adsgram-content-safe-area-bottom, 0px) + var(--adsgram-safe-area-bottom, 0px)) calc(var(--adsgram-content-safe-area-left, 0px) + var(--adsgram-safe-area-left, 0px));position:relative;width:calc(100% - var(--adsgram-content-safe-area-left, 0px) - var(--adsgram-safe-area-left, 0px) - var(--adsgram-content-safe-area-right, 0px) - var(--adsgram-safe-area-right, 0px))}",Ja="._post_18txr_1{animation-duration:.1s;animation-fill-mode:forwards;animation-name:_show_18txr_1;animation-play-state:running;animation-timing-function:ease-out;display:flex;position:relative}@keyframes _show_18txr_1{0%{opacity:0}to{opacity:1}}._channel_18txr_21{align-self:end;cursor:pointer;height:40px;margin:0 4px 0 10px;width:40px}._icon_18txr_29{background-color:var(--adsgram-secondary-bg-color);border-radius:100%;height:40px;object-fit:cover;width:40px}._tail_18txr_37{align-self:end;color:var(--adsgram-section-bg-color);display:flex;height:10px;width:6px;z-index:1}._tail_18txr_37._android-dark_18txr_46{color:var(--adsgram-bg-color)}._tail_18txr_37 svg{height:10px;width:6px}._message_18txr_55{background-color:var(--adsgram-section-bg-color);border-radius:18px 18px 7px 0;box-shadow:0 1px 2px #00000029;display:flex;flex-direction:column;position:relative;width:100%}._message_18txr_55._android-dark_18txr_46{background-color:var(--adsgram-bg-color)}._image_18txr_69{aspect-ratio:1;border-radius:16px 16px 4px 4px;margin:2px 2px 0;object-fit:cover;width:calc(100% - 4px)}._text_18txr_77{display:flex;flex-direction:column;font-size:var(--text-m);gap:18px;line-height:18px;margin:var(--xs-spacing);width:calc(100% - 16px)}._title_18txr_87{font-weight:var(--font-medium);letter-spacing:0}._description_18txr_95,._title_18txr_87{color:var(--adsgram-text-color);font-size:var(--text-m);line-height:18px}._description_18txr_95{font-weight:var(--font-normal)}._footer_18txr_102{display:flex;justify-content:space-between}._name_18txr_107{background:none;border:none;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;color:var(--adsgram-hint-color);cursor:default;font-size:var(--text-m);font-weight:var(--font-normal);-webkit-line-clamp:2;line-height:18px;text-align:left;text-decoration:none;text-overflow:ellipsis;transition:color .2s cubic-bezier(.2,0,0,1);word-break:break-word}._clickable_18txr_126{color:var(--adsgram-link-color);cursor:pointer}._adlabel_18txr_131{align-self:end;color:var(--adsgram-hint-color);font-size:12px;line-height:16px;transform:translate(-2px,4px);vertical-align:bottom;white-space:nowrap}._kebab_18txr_141{background:linear-gradient(216deg,#2222220d 25%,#87878700 55%);border-radius:0 18px 0 0;padding:8px 4px 16px 16px;position:absolute;right:0}._kebab-content_18txr_153{right:30px;top:-20px}",Ka='._button_1ykdg_1{animation-duration:.2s;animation-fill-mode:forwards;animation-name:_show_1ykdg_1;animation-play-state:running;animation-timing-function:cubic-bezier(.2,0,0,1);background-color:transparent;border:none;border-radius:6px 6px 15px 15px;color:var(--adsgram-button-text-color);cursor:pointer;display:inline-block;font-size:14px;font-weight:var(--font-medium);height:40px;letter-spacing:.03em;line-height:40px;margin:4px 0 0 60px;overflow:hidden;padding:0 var(--s-spacing);position:relative;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:calc(100% - 60px);z-index:1}@keyframes _show_1ykdg_1{0%{opacity:0;transform:translateY(-20px) scale(.1)}to{opacity:1;transform:translateY(0) scale(1)}}._button_1ykdg_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:7px 7px 15px 15px;content:"";inset:0;position:absolute;z-index:-1}._button_1ykdg_1._ios-light_1ykdg_50{background:linear-gradient(90deg,#8ea671,#6da94a);box-shadow:inset .5px .5px 20px #66974766}._button_1ykdg_1._ios-dark_1ykdg_55{background:linear-gradient(90deg,#112231,#10202d);box-shadow:inset .5px .5px 20px #0f1b2566}._button_1ykdg_1:active{animation-fill-mode:none;transform:scale(.95);transition:.1s}._icon_1ykdg_66{position:absolute;right:1px;top:1px}',Za='._close_7xq49_1{align-items:center;animation-duration:.3s;animation-name:_show_7xq49_1;animation-play-state:running;animation-timing-function:cubic-bezier(0,0,.46,1.41);cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-44px;top:-2px;width:40px;z-index:1}._image_7xq49_18{height:16px;width:16px}._close_7xq49_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:100%;content:"";height:28px;position:absolute;width:28px;z-index:-1}@keyframes _show_7xq49_1{0%{opacity:0;transform:scale(.1)}to{opacity:1;transform:scale(1)}}',Ya='._timer_1s77f_1{padding:0 var(--xs-spacing);position:relative;width:fit-content;z-index:1}._timer_1s77f_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:var(--s-spacing);content:"";inset:0;position:absolute;z-index:-1}._time_1s77f_1{color:var(--adsgram-button-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:23px;text-align:center;vertical-align:top}',Xa='._tooltip_bpzve_1{align-self:center;animation-duration:.2s;animation-fill-mode:forwards;animation-name:_show_bpzve_1;animation-play-state:running;animation-timing-function:cubic-bezier(.2,0,0,1);background-color:var(--adsgram-bg-color);border-radius:var(--s-spacing);box-shadow:0 1px 2px #00000029;cursor:default;opacity:0;padding:10px 12px;position:relative;scale:25%;text-align:center;top:-10px;transform:translate(30px)}@keyframes _show_bpzve_1{0%{opacity:0;scale:25%;top:-10px}to{opacity:1;scale:100%;top:10px}}._tooltip_bpzve_1:after{border:6px solid;border-color:transparent transparent var(--adsgram-bg-color) transparent;content:"";left:50%;position:absolute;top:0;transform:translate(-50%,-100%)}._title_bpzve_45{color:var(--adsgram-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:16px;margin:0;text-align:center}',Qa="._wrapper_1t8xa_1{height:100%;position:relative;width:100%}",eo="._overlay_h6eeg_1{align-items:center;background-color:#0009;border-radius:var(--xs-spacing);display:flex;height:100%;justify-content:center;width:100%}._image_h6eeg_11{aspect-ratio:1/1;filter:drop-shadow(2px 2px 2px rgb(0 0 0/60%));width:25%}",to="*{border:none;margin:0;padding:0}*,:after,:before{box-sizing:border-box}a,a:hover,a:link,a:visited{text-decoration:none}button,input,select,textarea{background-color:transparent;color:inherit;font-family:inherit;font-size:inherit}:host{font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}",no=":host{--xxxs-spacing:4px;--xxs-spacing:6px;--xs-spacing:8px;--s-spacing:12px;--text-xs:12px;--text-s:13px;--text-m:15px;--text-l:16px;--font-normal:400;--font-medium:500;--font-semibold:600}";function ro(e){if(e.shadowRoot)return e.shadowRoot;const t=e.attachShadow({mode:"closed"}),n=document.createElement("style");return n.textContent=function(){const e=Object.assign({"/src/banners/fullscreenMedia/fullscreenMedia.module.css":Ca,"/src/banners/rwvideo/rwvideo.module.css":Sa,"/src/components/adsgramLabel/adsgramLabel.module.css":Na,"/src/components/chatBackground/chatBackground.module.css":Ra,"/src/components/footer/footer.module.css":Ia,"/src/components/kebab/kebab.module.css":Va,"/src/components/kebab/kebabContet.module.css":La,"/src/components/kebab/legalInfoItem.module.css":Oa,"/src/components/player/components/actionButton/actionButton.module.css":Fa,"/src/components/player/components/adLabel/adLabel.module.css":Da,"/src/components/player/components/close/close.module.css":Ba,"/src/components/player/components/closeButton/closeButton.module.css":Ua,"/src/components/player/components/footer/footer.module.css":Ma,"/src/components/player/components/header/header.module.css":za,"/src/components/player/components/packshot/packshot.module.css":ja,"/src/components/player/components/playerInitContainer/playerInitContainer.css":Wa,"/src/components/player/components/skipPoint/skipPoint.module.css":$a,"/src/components/player/components/timeline/timeline.module.css":Ha,"/src/components/player/components/volume/volume.module.css":qa,"/src/components/player/player.module.css":Ga,"/src/components/post/post.module.css":Ja,"/src/components/postButton/postButton.module.css":Ka,"/src/components/postCloseButton/postCloseButton.module.css":Za,"/src/components/timer/timer.module.css":Ya,"/src/components/tooltip/tooltip.module.css":Xa,"/src/preview/components/previewWrapper/previewWrapper.module.css":Qa,"/src/preview/components/replay/replay.module.css":eo,"/src/theme/reset.css":to,"/src/theme/variables.css":no});return Object.values(e).join("")}(),t.append(n),t}async function io({blockId:e,container:t,data:n,EventEmitter:r}){const i=t&&Pa(t)?t:function(e){const t=document.createElement("div");return document.documentElement.append(t),t.setAttribute("id",e),t.setAttribute("style","position: relative;z-index:2147483647;"),t}(e),a=ro(i);await Bt({data:n,EventEmitter:r,container:i});const o=ke();o.add("blockId",e).add("bannerType",n.bannerType).add("blockType",n.blockType).add("campaignId",n.campaignId);try{at(or(Ta,{bannerType:n.bannerType,blockType:n.blockType,data:n,blockId:e,EventEmitter:r,logger:o}),a)}catch{o.send("RenderError"),r.emit(_t.renderError)}r.on(_t.finalDestroy,(()=>{!function({blockId:e,shadowRoot:t,container:n,shouldRemoveContainer:r}){at(null,t);const i=n??document.getElementById(e);i&&r&&i.remove()}({blockId:e,container:i,shadowRoot:a,shouldRemoveContainer:!(t&&Pa(t))}),Ct()}),{once:!0})}class ao{_blockId;_debug;_debugBannerType;_container;_EventEmitter;_isShowing;_isLoading;_rewardMark;constructor({blockId:e,container:t,debug:n,debugBannerType:r}){this._blockId=e,this._debug=n,this._debugBannerType=r,this._container=t,this._EventEmitter=new Qn,this._isShowing=!1,this._isLoading=!1,this._rewardMark=function(){let e=-1/0;return Object.freeze({set:()=>{e=Date.now()},measure:()=>Date.now()-e})}(),this._subscribeToMakeFinalDestroy()}async show(){this._checkNonStopShow(),this._checkIsShowing();const e=await this._load();try{return this._isShowing=!0,await io({blockId:this._blockId,container:this._container,data:e,EventEmitter:this._EventEmitter}),new Promise(((e,t)=>{this._setShowResult(e,t)}))}catch{throw ke().add("blockId",this._blockId).add("bannerType",e.bannerType).add("blockType",e.blockType).add("campaignId",e.campaignId).send("UnknownRenderError","WARN"),this._finalDestroy(),K.renderError}}addEventListener(e,t){if(!(e in ht)&&!(e in mt))throw new pe({message:`The event argument must be one of ${Object.keys(ht).join(", ")}. Received ${e}`});this._EventEmitter.on(e,t)}removeEventListener(e,t){if(!(e in ht)&&!(e in mt))throw new pe({message:`The event argument must be one of ${Object.keys(ht).join(", ")}. Received ${e}`});this._EventEmitter.off(e,t)}destroy(){this._EventEmitter.emit(_t.destroy)}async _load(){if(this._isLoading)throw Z("Attempt to call show when loading the banner.");return this._isLoading=!0,xe(this._blockId,this._forceCampaignId).then((e=>e)).catch((e=>{const n=function(e){return e instanceof Error?e.message.replace(/^\w*Error: /,""):"string"==typeof e?e:""}(e);throw n===q(t)&&this._invokeAlertOrEvent(q(t),ht.onBannerNotFound),Z(n)})).finally((()=>{this._isLoading=!1}))}_setShowResult(e,t){this._EventEmitter.on(_t.renderError,(()=>{this._EventEmitter.emit(ht.onError),t(K.renderError)}),{unsubscribeEvent:_t.finalDestroy}),this._EventEmitter.on(_t.error,(()=>{this._EventEmitter.emit(ht.onError),t(K.playError)}),{unsubscribeEvent:_t.finalDestroy}),this._EventEmitter.on(ht.onSkip,(()=>{t(K.skip)}),{unsubscribeEvent:_t.finalDestroy}),this._EventEmitter.on(mt.onNotSuitable,(()=>{t(K.notSuitable)}),{unsubscribeEvent:_t.finalDestroy}),this._EventEmitter.on(ht.onReward,(()=>{this._rewardMark.set(),e(K.reward)}),{unsubscribeEvent:_t.finalDestroy}),this._EventEmitter.on(ht.onComplete,(()=>{this._rewardMark.set(),e(K.complete)}),{unsubscribeEvent:_t.finalDestroy})}_invokeAlertOrEvent(e,t){this._EventEmitter.hasHandlers(t)?this._EventEmitter.emit(t):ue({message:e})}_checkNonStopShow(){if(this._rewardMark.measure()<1e4)throw this._invokeAlertOrEvent(q(n),ht.onNonStopShow),K.nonStopShowError}_checkIsShowing(){if(this._isShowing)throw K.duplicateShowError}get _forceCampaignId(){return this._debug?G[this._debugBannerType??J]:void 0}_finalDestroy(){this._EventEmitter.emit(_t.finalDestroy),this._resetVariables()}_subscribeToMakeFinalDestroy(){this._EventEmitter.on(_t.destroy,this._finalDestroy.bind(this)),this._EventEmitter.on(ht.onReward,this._finalDestroy.bind(this)),this._EventEmitter.on(mt.onNotSuitable,this._finalDestroy.bind(this)),this._EventEmitter.on(ht.onComplete,this._finalDestroy.bind(this)),this._EventEmitter.on(ht.onSkip,this._finalDestroy.bind(this)),this._EventEmitter.on(_t.error,this._finalDestroy.bind(this)),this._EventEmitter.on(_t.renderError,this._finalDestroy.bind(this))}_resetVariables(){this._isShowing=!1}}const oo={blockId:function(e){if(!("blockId"in e))throw new pe({message:"blockId is required param for init function"});if("string"!=typeof e.blockId)throw new pe({message:"blockId param should be string"});if(!/\d+$/.test(e.blockId))throw new pe({message:`blockId param should be string with number value inside, you pass ${e.blockId}`});if(/^\D/.test(e.blockId)){if(!o.some((t=>e.blockId.startsWith(t))))throw new pe({message:`blockId param have wrong prefix, you pass ${e.blockId}. Prefix could be ${o.join(", ")}`})}return!0},container:function(e){if("container"in e){if(e.container instanceof HTMLElement)return!0;throw new pe({message:`container should be instanceof HTMLElement you call with ${JSON.stringify(e.container)}`})}return!0},hasReward:function(e){if("hasReward"in e){if("boolean"!=typeof e.hasReward)throw new pe({message:`hasReward should be boolean you call with ${JSON.stringify(e.hasReward)}`});return!0}return!0},debug:function(e){if("debug"in e){if("boolean"!=typeof e.debug)throw new pe({message:`debug should be boolean you call with ${JSON.stringify(e.debug)}`});return!0}return!0},debugBannerType:function(e){if("debugBannerType"in e){if("string"!=typeof e.debugBannerType)throw new pe({message:`debugBannerType should be string you call with ${JSON.stringify(e.debugBannerType)}`});if(!Object.keys(G).includes(e.debugBannerType))throw new pe({message:`debugBannerType should be one of ${Object.keys(G)} you call with ${e.debugBannerType}`})}return!0}};function so(e){return"string"==typeof e&&/^_[A-Za-z]/.test(e)}function lo(e){return new Proxy(e,{get(e,t){if("__proto__"===t)return function(e){const t=Object.getPrototypeOf(e);return new Proxy(t,{get(e,t){if(!so(t))return Reflect.get(e,t)},has:(e,t)=>!so(t)&&Reflect.has(e,t),ownKeys:e=>Reflect.ownKeys(e).filter((e=>!so(e))),getOwnPropertyDescriptor(e,t){if(!so(t))return Reflect.getOwnPropertyDescriptor(e,t)}})}(e);if(so(t))return void ke().add("method","get").add("property",t).send("HiddenPropertyAccess","WARN");const n=e[t];return"function"==typeof n?n.bind(e):n},set:(e,t,n)=>so(t)?(ke().add("method","set").add("property",t).send("HiddenPropertyAccess","WARN"),!1):(e[t]=n,!0),deleteProperty:(e,t)=>so(t)?(ke().add("method","delete").add("property",t).send("HiddenPropertyAccess","WARN"),!1):(delete e[t],!0),ownKeys:e=>Reflect.ownKeys(e).filter((e=>!so(e))),getOwnPropertyDescriptor(e,t){if(!so(t))return Reflect.getOwnPropertyDescriptor(e,t)}})}const co={};function uo(e){if(!function(e){if("object"!=typeof e)throw new pe({message:`Object should be passed to the init function you pass ${JSON.stringify(e)}`});return!("object"!=typeof e||e instanceof Function||Array.isArray(e)||null===e)&&Object.values(oo).every((t=>t(e)))}(e))throw new pe({message:"Attempt to create AdController with wrong params"});const{blockId:t}=e;return co[t]||(co[t]=lo(new ao(e))),co[t]}function po(e){return uo(e)}po.version="0.14.0",window.Adsgram={...window.Adsgram,init:po},e.init=po,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));